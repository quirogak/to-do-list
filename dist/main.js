(()=>{const t=(t,e,o)=>({title:t,description:e,addToDo:o}),e=(t,e,o,n,c)=>({title:t,description:e,dueDate:o,priority:n,checked:c}),o=t=>{const e=document.querySelector(".right-part"),o=document.createElement("div");e.appendChild(o),o.classList.add("project-container");const n=document.createElement("input");o.appendChild(n),n.type="text",n.classList.add("project-title"),n.classList.add("title-input"+t),n.value="New Title";const c=document.createElement("textarea");o.appendChild(c),c.type="text",c.classList.add("project-desc"),c.classList.add("desc-input"+t),c.value="Description...";const d=document.createElement("div");o.appendChild(d),d.classList.add("todos-container");const i=document.createElement("button");o.appendChild(i),i.classList.add("submit-button"),i.classList.add("submit-project-button"+t),i.textContent="Submit Details";const s=document.createElement("button");return o.appendChild(s),s.type="button",s.classList.add("submit-todo"),s.classList.add("submit-todo-button"+t),s.textContent="+",{titleInput:n,descriptionInput:c,submitToDo:s,submitProject:i}},n=(t,e)=>{const o=document.querySelector(".todos-container"),n=document.createElement("div");n.classList.add("todo-container"),n.classList.add("todo-container"+e),o.appendChild(n);const c=document.createElement("div");c.classList.add("basic-elements-container"+e),n.appendChild(c);const d=document.createElement("button");d.classList.add("delete-button"),d.classList.add("delete-button"+e),d.textContent="x",c.appendChild(d);const i=document.createElement("input");c.appendChild(i),i.value="New to-do",i.type="text",i.classList.add("todo-title"+e),i.classList.add("expand-todo");const s=document.createElement("input");return c.appendChild(s),s.type="checkbox",s.classList.add("checkbox"+e),s.classList.add("checkbox"+t),{toDoTitle:i}},c=t=>{const e=document.querySelector(".todo-container"+t),o=document.createElement("textarea");e.appendChild(o),o.type="text",o.classList.add("todo-desc"+t),o.value="Description...";const n=document.createElement("input");e.appendChild(n),n.type="date",n.classList.add("todo-date"+t);const c=document.createElement("select");e.appendChild(c),c.classList.add("todo-priority"+t);const d=document.createElement("option");d.value="High",d.textContent="High",c.appendChild(d);const i=document.createElement("option");i.value="Medium",i.textContent="Medium",c.appendChild(i);const s=document.createElement("option");s.value="Low",s.textContent="Low",c.appendChild(s)},d=((()=>{const e=[],n=[],c=document.querySelector(".new-project"),i=()=>{const o=e[e.length-1],c=o.titleInput.value,d=o.descriptionInput.value,i=o.submitToDo.value;n.push(t(c,d,i))},s=()=>{document.querySelector(".project-container").remove()},l=()=>{null!=document.querySelector(".project-container")&&s()},a=t=>{l(),(t=>{const e=n[t];o(t),document.querySelector(".title-input"+t).value=e.title,document.querySelector(".desc-input"+t).value=e.description})(t),d.returnToDoDOM(t).genToDoElements(),document.querySelector(".submit-project-button"+t).addEventListener("click",(t=>{(t=>{const e=t.target.classList[1].slice(-1),o=n[e];o.title=document.querySelector(".title-input"+e).value,o.description=document.querySelector(".desc-input"+e).value,((t,e)=>{document.querySelector(".number"+t).textContent=e})(e,o.title),s()})(t)}))},u=t=>{(()=>{const t=document.querySelector(".tab-container"),o=document.createElement("button");o.classList.add("project-tab","number"+parseInt(e.length-1)),t.appendChild(o),o.textContent=n[n.length-1].title,s()})();const o=t.target.classList[1].slice(-1);document.querySelector(".number"+o).addEventListener("click",(()=>{a(o)}))};c.addEventListener("click",(()=>{l(),e.push(o(e.length)),d.newToDo(),e[e.length-1].submitProject.addEventListener("click",i),e[e.length-1].submitProject.addEventListener("click",u)}))})(),(()=>{const t=[],o=[];return{newToDo:()=>{const c=[];let d=[];const l=document.querySelector(".submit-button");document.querySelector(".submit-todo").addEventListener("click",(t=>{(t=>{const e=t.target.classList[1].slice(-1),o=c.length;c.push(n(e,o)),s.expandToDoLogic(o)})(t)})),l.addEventListener("click",(()=>{for(i=0;i<c.length;i++)toDoTitleValue=c[i].toDoTitle.value,d.push(e(toDoTitleValue))})),l.addEventListener("click",(()=>{t.push(c)})),l.addEventListener("click",(()=>{o.push(d)}))},returnToDoDOM:c=>{const d=t[c].length,l=document.querySelector(".submit-button");document.querySelector(".submit-todo").className="old-submit-todo";const a=document.querySelector(".old-submit-todo"),u=()=>{const e=t[c].length;for(i=0;i<e;i++)s.expandToDoLogic(i)};return a.addEventListener("click",(()=>{t[c].push(n(c,i))})),a.addEventListener("click",u),l.addEventListener("click",(()=>{const n=t[c].length;for(i=0;i<n;i++)toDoTitleValue=document.querySelector(".todo-title"+i).value,void 0===o[c][i]?o[c].push(e(toDoTitleValue)):o[c][i].title=toDoTitleValue})),{genToDoElements:()=>{for(i=0;i<d;i++)n(c,i),document.querySelector(".todo-title"+i).value=o[c][i].title;u()}}}}})()),s={expandToDoLogic:t=>{document.querySelector(".todo-title"+t).addEventListener("click",(t=>{(t=>{const e=t.target.classList[0].slice(-1);document.querySelector(".expand-todo"+e),c(e)})(t)}))}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXVCYixFQUFpQjFDLEdBQWNrQixPQUU1RCxJQUFJbkMsRUFBSSxFQUFHQSxFQUFJd0UsRUFBc0J4RSxJQUFLZ0UsRUFBWUMsZ0JBQWdCakUsRUFBRSxFQVF4RSxPQUxBc0UsRUFBY3pCLGlCQUFpQixTQWJOLEtBRWpCYyxFQUFpQjFDLEdBQWNtQixLQUFLckMsRUFBMkJrQixFQUFhakIsR0FBRSxJQVl0RnNFLEVBQWN6QixpQkFBaUIsUUFBUTBCLEdBQ3ZDUixFQUFpQmxCLGlCQUFpQixTQXBDTixLQUV4QixNQUFNMkIsRUFBdUJiLEVBQWlCMUMsR0FBY2tCLE9BRTVELElBQUluQyxFQUFJLEVBQUdBLEVBQUl3RSxFQUF1QnhFLElBRWhDbUUsZUFBa0JqRSxTQUFTQyxjQUFjLGNBQWNILEdBQUdXLFdBSWpCOEQsSUFBckNiLEVBQWdCM0MsR0FBY2pCLEdBRWhDNEQsRUFBZ0IzQyxHQUFjbUIsS0FBSzVDLEVBQXNCMkUsaUJBR3pEUCxFQUFnQjNDLEdBQWNqQixHQUFHUCxNQUFRMEUsY0FHN0MsSUFxQkQsQ0FBQ3ZCLGdCQXBEWSxLQUVoQixJQUFJNUMsRUFBSSxFQUFHQSxFQUFJb0UsRUFBZXBFLElBRTFCRCxFQUEyQmtCLEVBQWFqQixHQUl4Q0UsU0FBU0MsY0FBYyxjQUFjSCxHQUFHVyxNQUFRaUQsRUFBZ0IzQyxHQUFjakIsR0FBR1AsTUFFckY4RSxHQUFlLEVBMENJLEVBUzlCLEVBOUhrQixJQWtJYlAsRUErQkUsQ0FBQ0MsZ0JBekJpQlMsSUFHRnhFLFNBQVNDLGNBQWMsY0FBY3VFLEdBYzdDN0IsaUJBQWlCLFNBQVVDLElBWnBCLENBQUNBLElBRWhCLE1BQU01QixFQUFZNEIsRUFBRUMsT0FBT3hDLFVBQVUsR0FBR3lDLE9BQU8sR0FFcEI5QyxTQUFTQyxjQUFjLGVBQWVlLEdBRWpFbkIsRUFBOEJtQixFQUFTLEVBTUd5RCxDQUFXN0IsRUFBQyxHQUFFLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgZ2VuT2JqZWN0cyA9ICgoKSA9PiB7XG5cbiAgICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKHRpdGxlLGRlc2NyaXB0aW9uLGFkZFRvRG8pID0+IHtcblxuICAgICAgICAgdGl0bGUgPSB0aXRsZVxuXG4gICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG5cbiAgICAgICAgIGFkZFRvRG8gPSBhZGRUb0RvXG5cblxuICAgICAgICByZXR1cm4ge3RpdGxlLGRlc2NyaXB0aW9uLGFkZFRvRG99XG5cblxuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZVRvRG8gPSAodGl0bGUsZGVzY3JpcHRpb24sZHVlRGF0ZSxwcmlvcml0eSxjaGVja2VkKSA9PiB7XG5cbiAgICAgICAgdGl0bGUgPSB0aXRsZVxuICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgICAgIGR1ZURhdGUgPSBkdWVEYXRlXG4gICAgICAgIHByaW9yaXR5ID0gcHJpb3JpdHlcbiAgICAgICAgY2hlY2tlZCA9IGNoZWNrZWRcblxuICAgICAgICByZXR1cm4ge3RpdGxlLGRlc2NyaXB0aW9uLGR1ZURhdGUscHJpb3JpdHksY2hlY2tlZH1cblxuICAgIH1cblxuICAgIHJldHVybiB7Y3JlYXRlUHJvamVjdCxjcmVhdGVUb0RvfVxuXG59KSgpO1xuXG5cbmNvbnN0IGdlbkRvbUVsZW1lbnRzID0gKCgpID0+IHtcblxuICAgIGNvbnN0IGdlblByb2plY3RzRE9NID0gKGkpID0+IHtcblxuICAgICAgICBjb25zdCByaWdodFBhcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJpZ2h0LXBhcnRcIilcblxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICByaWdodFBhcnQuYXBwZW5kQ2hpbGQobmV3UHJvamVjdENvbnRhaW5lcilcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1jb250YWluZXJcIilcblxuXG4gICAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZUlucHV0KVxuICAgICAgICB0aXRsZUlucHV0LnR5cGUgPSBcInRleHRcIlxuICAgICAgICB0aXRsZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpXG4gICAgICAgIHRpdGxlSW5wdXQuY2xhc3NMaXN0LmFkZChcInRpdGxlLWlucHV0XCIraSlcbiAgICAgICAgdGl0bGVJbnB1dC52YWx1ZSA9IFwiTmV3IFRpdGxlXCJcblxuIFxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpXG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25JbnB1dClcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC50eXBlID0gXCJ0ZXh0XCJcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1kZXNjXCIpXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQuY2xhc3NMaXN0LmFkZChcImRlc2MtaW5wdXRcIitpKVxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gXCJEZXNjcmlwdGlvbi4uLlwiXG5cbiBcbiAgICAgICBcbiAgICAgICAgY29uc3QgdG9Eb3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQodG9Eb3NDb250YWluZXIpXG4gICAgICAgIHRvRG9zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0b2Rvcy1jb250YWluZXJcIilcblxuIFxuICAgICAgICBjb25zdCBzdWJtaXRQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN1Ym1pdFByb2plY3QpXG4gICAgICAgIHN1Ym1pdFByb2plY3QuY2xhc3NMaXN0LmFkZChcInN1Ym1pdC1idXR0b25cIilcbiAgICAgICAgc3VibWl0UHJvamVjdC5jbGFzc0xpc3QuYWRkKFwic3VibWl0LXByb2plY3QtYnV0dG9uXCIraSlcbiAgICAgICAgc3VibWl0UHJvamVjdC50ZXh0Q29udGVudCA9IFwiU3VibWl0IERldGFpbHNcIlxuXG4gICAgICBcblxuICAgICAgICBjb25zdCBzdWJtaXRUb0RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN1Ym1pdFRvRG8pXG4gICAgICAgIHN1Ym1pdFRvRG8udHlwZSA9XCJidXR0b25cIlxuICAgICAgICBzdWJtaXRUb0RvLmNsYXNzTGlzdC5hZGQoXCJzdWJtaXQtdG9kb1wiKVxuICAgICAgICBzdWJtaXRUb0RvLmNsYXNzTGlzdC5hZGQoXCJzdWJtaXQtdG9kby1idXR0b25cIitpKVxuICAgICAgICBzdWJtaXRUb0RvLnRleHRDb250ZW50ID0gXCIrXCJcblxuXG4gICAgICAgIHJldHVybiB7dGl0bGVJbnB1dCxkZXNjcmlwdGlvbklucHV0LHN1Ym1pdFRvRG8sc3VibWl0UHJvamVjdH1cblxuICAgfSBcblxuXG4gICBjb25zdCBnZW5Ub0Rvc0RPTSA9IChwcm9qZWN0SW5kZXgsdG9Eb0luZGV4KSA9PntcblxuICAgICAgICBjb25zdCB0b0Rvc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb3MtY29udGFpbmVyXCIpXG5cbiAgICAgICAgY29uc3QgdG9Eb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgdG9Eb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidG9kby1jb250YWluZXJcIilcbiAgICAgICAgdG9Eb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidG9kby1jb250YWluZXJcIit0b0RvSW5kZXgpXG4gICAgICAgIHRvRG9zQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvRG9Db250YWluZXIpXG5cbiAgICAgICAgY29uc3QgYmFzaWNFbGVtZW50c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgYmFzaWNFbGVtZW50c0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYmFzaWMtZWxlbWVudHMtY29udGFpbmVyXCIrdG9Eb0luZGV4KVxuICAgICAgICB0b0RvQ29udGFpbmVyLmFwcGVuZENoaWxkKGJhc2ljRWxlbWVudHNDb250YWluZXIpXG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1idXR0b25cIilcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtYnV0dG9uXCIrdG9Eb0luZGV4KVxuICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSBcInhcIlxuICAgICAgICBiYXNpY0VsZW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbilcbiAgICAgICAgXG5cbiAgICAgICAgY29uc3QgdG9Eb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgIGJhc2ljRWxlbWVudHNDb250YWluZXIuYXBwZW5kQ2hpbGQodG9Eb1RpdGxlKVxuICAgICAgICB0b0RvVGl0bGUudmFsdWUgPSBcIk5ldyB0by1kb1wiXG4gICAgICAgIHRvRG9UaXRsZS50eXBlID0gXCJ0ZXh0XCJcbiAgICAgICAgdG9Eb1RpdGxlLmNsYXNzTGlzdC5hZGQoXCJ0b2RvLXRpdGxlXCIrdG9Eb0luZGV4KVxuICAgICAgICB0b0RvVGl0bGUuY2xhc3NMaXN0LmFkZChcImV4cGFuZC10b2RvXCIpXG4gICAgICAgIFxuXG4gICAgICAgIGNvbnN0IGNoZWNrVG9EbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICBiYXNpY0VsZW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrVG9EbylcbiAgICAgICAgY2hlY2tUb0RvLnR5cGUgPSBcImNoZWNrYm94XCJcbiAgICAgICAgY2hlY2tUb0RvLmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiK3RvRG9JbmRleClcbiAgICAgICAgY2hlY2tUb0RvLmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiK3Byb2plY3RJbmRleClcblxuXG4gICAgICAgIHJldHVybiB7dG9Eb1RpdGxlfVxuICAgfVxuXG4gICBjb25zdCBnZW5Ub0RvRGV0YWlscyA9ICh0b0RvSW5kZXgpID0+IHtcbiAgICAgIFxuICAgICAgY29uc3QgdG9Eb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1jb250YWluZXJcIit0b0RvSW5kZXgpXG5cbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIilcbiAgICAgICAgdG9Eb0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbklucHV0KVxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnR5cGUgPSBcInRleHRcIlxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LmNsYXNzTGlzdC5hZGQoXCJ0b2RvLWRlc2NcIit0b0RvSW5kZXgpXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBcIkRlc2NyaXB0aW9uLi4uXCJcblxuICAgICAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgdG9Eb0NvbnRhaW5lci5hcHBlbmRDaGlsZChkYXRlSW5wdXQpXG4gICAgICAgIGRhdGVJbnB1dC50eXBlID0gXCJkYXRlXCJcbiAgICAgICAgZGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0b2RvLWRhdGVcIit0b0RvSW5kZXgpXG5cblxuICAgICAgICBjb25zdCBwcmlvcml0eUNvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKVxuICAgICAgICB0b0RvQ29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5Q29sb3IpXG4gICAgICAgIHByaW9yaXR5Q29sb3IuY2xhc3NMaXN0LmFkZChcInRvZG8tcHJpb3JpdHlcIit0b0RvSW5kZXgpXG5cbiAgICAgICAgY29uc3QgaGlnaFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuICAgICAgICBoaWdoUHJpb3JpdHkudmFsdWUgPSBcIkhpZ2hcIlxuICAgICAgICBoaWdoUHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIkhpZ2hcIlxuICAgICAgICBwcmlvcml0eUNvbG9yLmFwcGVuZENoaWxkKGhpZ2hQcmlvcml0eSlcblxuICAgICAgICBjb25zdCBNZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgTWVkaXVtUHJpb3JpdHkudmFsdWUgPSBcIk1lZGl1bVwiXG4gICAgICAgIE1lZGl1bVByaW9yaXR5LnRleHRDb250ZW50ID0gXCJNZWRpdW1cIlxuICAgICAgICBwcmlvcml0eUNvbG9yLmFwcGVuZENoaWxkKE1lZGl1bVByaW9yaXR5KVxuXG4gICAgICAgIGNvbnN0IExvd1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuICAgICAgICBMb3dQcmlvcml0eS52YWx1ZSA9IFwiTG93XCJcbiAgICAgICAgTG93UHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIkxvd1wiXG4gICAgICAgIHByaW9yaXR5Q29sb3IuYXBwZW5kQ2hpbGQoTG93UHJpb3JpdHkpXG5cblxuXG4gICB9XG5cbiAgIHJldHVybiB7Z2VuUHJvamVjdHNET00sZ2VuVG9Eb3NET00sZ2VuVG9Eb0RldGFpbHN9XG5cbiAgIFxufSkoKTtcblxuICAgXG5cbiAgIFxuXG5cblxuY29uc3QgcHJvamVjdHNMb2dpYyA9ICgoKSA9PiB7XG5cbiAgLy9HbG9iYWwgY29uc3RhbnRzXG5cbiAgIGNvbnN0IHByb2plY3RFbGVtZW50cyA9IFtdXG5cbiAgIGNvbnN0IHByb2plY3RPYmplY3RMaXN0ID0gW11cblxuICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdFwiKVxuXG5cblxuICAgLy9GdW5jdGlvbnNcblxuICAgY29uc3QgbmV3UHJvamVjdERPTSA9ICgpID0+IHtcblxuICAgIHByb2plY3RFbGVtZW50cy5wdXNoKGdlbkRvbUVsZW1lbnRzLmdlblByb2plY3RzRE9NKHByb2plY3RFbGVtZW50cy5sZW5ndGgpKVxuXG4gICB9XG5cblxuICAgY29uc3QgbmV3UHJvamVjdE9iamVjdCA9ICgpID0+IHtcblxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdEVsZW1lbnRzW3Byb2plY3RFbGVtZW50cy5sZW5ndGgtMV1cblxuICAgIGNvbnN0IHRpdGxlID0gY3VycmVudFByb2plY3QudGl0bGVJbnB1dC52YWx1ZVxuICAgICAgICAgICAgXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBjdXJyZW50UHJvamVjdC5kZXNjcmlwdGlvbklucHV0LnZhbHVlXG4gICAgXG4gICAgY29uc3QgYWRkVG9EbyA9IGN1cnJlbnRQcm9qZWN0LnN1Ym1pdFRvRG8udmFsdWVcblxuXG4gICAgcHJvamVjdE9iamVjdExpc3QucHVzaChnZW5PYmplY3RzLmNyZWF0ZVByb2plY3QodGl0bGUsIGRlc2NyaXB0aW9uLCBhZGRUb0RvKSlcblxuICAgfVxuICAgXG5cbiAgIGNvbnN0IHJlbW92ZUNvbnRhaW5lciA9ICgpID0+IHtcblxuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtY29udGFpbmVyXCIpXG4gICAgIHByb2plY3RDb250YWluZXIucmVtb3ZlKClcblxuICAgIH1cblxuICAgY29uc3QgY2hlY2tDb250YWluZXIgPSAoKSA9PiB7XG4gICAgXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1jb250YWluZXJcIikgIT0gbnVsbCl7XG4gICAgICAgICAgICByZW1vdmVDb250YWluZXIoKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICBcblxuXG4gICBjb25zdCBhZGRQcm9qZWN0RE9NID0gKCkgPT4ge1xuXG4gICAgY29uc3QgdGFiQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWItY29udGFpbmVyXCIpXG4gICAgY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcblxuICAgIG5ld1Byb2plY3QuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFiXCIsIFwibnVtYmVyXCIrcGFyc2VJbnQocHJvamVjdEVsZW1lbnRzLmxlbmd0aC0xKSlcbiAgICB0YWJDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3UHJvamVjdClcbiAgICBcbiAgICAvL0Fzc2lnbiBhIG5hbWUgdG8gdGhlIGxlZnQtcGFydCB0YWIgXG4gICAgbmV3UHJvamVjdC50ZXh0Q29udGVudCA9IHByb2plY3RPYmplY3RMaXN0W3Byb2plY3RPYmplY3RMaXN0Lmxlbmd0aC0xXS50aXRsZVxuXG4gICAgLy93aGVuIHRoZSB1c2VyIGNsaWNrcyBzdWJtaXQsIHRoZSBQcm9qZWN0IGNvbnRhaW5lciBnZXRzIHJlbW92ZWQuXG4gICAgcmVtb3ZlQ29udGFpbmVyKClcblxuXG4gICB9XG5cbiAgIGNvbnN0IHJldHVyblByb2plY3RzRE9NID0gKGN1cnJlbnRQcm9qZWN0SW5kZXgpID0+IHtcblxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdE9iamVjdExpc3RbY3VycmVudFByb2plY3RJbmRleF1cbiAgICBnZW5Eb21FbGVtZW50cy5nZW5Qcm9qZWN0c0RPTShjdXJyZW50UHJvamVjdEluZGV4KVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aXRsZS1pbnB1dFwiK2N1cnJlbnRQcm9qZWN0SW5kZXgpLnZhbHVlID0gY3VycmVudFByb2plY3QudGl0bGVcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc2MtaW5wdXRcIitjdXJyZW50UHJvamVjdEluZGV4KS52YWx1ZSA9IGN1cnJlbnRQcm9qZWN0LmRlc2NyaXB0aW9uXG5cbn1cblxuICAgY29uc3QgdXBkYXRlUHJvamVjdE9iamVjdCA9IChlKSA9PiB7XG5cbiAgICBjb25zdCBpbmRleCA9IGUudGFyZ2V0LmNsYXNzTGlzdFsxXVxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SW5kZXggPSBpbmRleC5zbGljZSgtMSlcbiAgICBjb25zdCBjdXJyZW50T2JqZWN0ID0gcHJvamVjdE9iamVjdExpc3RbY3VycmVudFByb2plY3RJbmRleF1cblxuICAgIGN1cnJlbnRPYmplY3QudGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWlucHV0XCIrY3VycmVudFByb2plY3RJbmRleCkudmFsdWVcbiAgICBjdXJyZW50T2JqZWN0LmRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZXNjLWlucHV0XCIrY3VycmVudFByb2plY3RJbmRleCkudmFsdWVcblxuICAgIHVwZGF0ZVRhYihjdXJyZW50UHJvamVjdEluZGV4LGN1cnJlbnRPYmplY3QudGl0bGUpXG4gICAgcmVtb3ZlQ29udGFpbmVyKClcblxufVxuXG4gICBjb25zdCB1cGRhdGVUYWIgPSAoY3VycmVudFByb2plY3RJbmRleCxuZXdWYWx1ZSkgPT4ge1xuXG4gICAgY29uc3QgY3VycmVudFByb2plY3RUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlclwiK2N1cnJlbnRQcm9qZWN0SW5kZXgpXG4gICAgY3VycmVudFByb2plY3RUYWIudGV4dENvbnRlbnQgPSBuZXdWYWx1ZVxuXG59XG5cbiAgIGNvbnN0IHJldHVyblByb2plY3RBbmRUb0RvcyA9IChjdXJyZW50UHJvamVjdEluZGV4KSA9PiB7XG5cbiAgICBjaGVja0NvbnRhaW5lcigpXG4gICAgcmV0dXJuUHJvamVjdHNET00oY3VycmVudFByb2plY3RJbmRleClcbiAgICB0b0Rvc0xvZ2ljLnJldHVyblRvRG9ET00oY3VycmVudFByb2plY3RJbmRleCkuZ2VuVG9Eb0VsZW1lbnRzKClcbiAgICBjb25zdCBjdXJyZW50U3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtcHJvamVjdC1idXR0b25cIitjdXJyZW50UHJvamVjdEluZGV4KVxuICAgIFxuICAgIGN1cnJlbnRTdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+IHt1cGRhdGVQcm9qZWN0T2JqZWN0KGUpfSlcblxufVxuXG5cblxuICAgY29uc3QgY2FsbFJldHVyblRhYiA9IChlKSA9PiB7XG5cbiAgICBhZGRQcm9qZWN0RE9NKClcbiAgICBjb25zdCBpbmRleCA9IGUudGFyZ2V0LmNsYXNzTGlzdFsxXVxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SW5kZXggPSBpbmRleC5zbGljZSgtMSlcbiAgICBjb25zdCBjdXJyZW50UHJvamVjdFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubnVtYmVyXCIrY3VycmVudFByb2plY3RJbmRleClcblxuICAgIGN1cnJlbnRQcm9qZWN0VGFiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7cmV0dXJuUHJvamVjdEFuZFRvRG9zKGN1cnJlbnRQcm9qZWN0SW5kZXgpfSlcblxuIH1cblxuICAgY29uc3QgbmV3UHJvamVjdCA9ICgpID0+IHtcblxuICAgIGNoZWNrQ29udGFpbmVyKClcbiAgICBuZXdQcm9qZWN0RE9NKClcbiAgICB0b0Rvc0xvZ2ljLm5ld1RvRG8oKVxuXG5cbiAgICBwcm9qZWN0RWxlbWVudHNbcHJvamVjdEVsZW1lbnRzLmxlbmd0aC0xXS5zdWJtaXRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBuZXdQcm9qZWN0T2JqZWN0KVxuXG4gICAgcHJvamVjdEVsZW1lbnRzW3Byb2plY3RFbGVtZW50cy5sZW5ndGgtMV0uc3VibWl0UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2FsbFJldHVyblRhYilcbiB9XG5cblxuICAgY29uc3Qgc2VhcmNoTG9naWMgPSAoKSA9PiB7XG5cbiAgIH1cblxuICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG5ld1Byb2plY3QpXG4gXG5cbiAgIFxuICAgcmV0dXJuIHt9XG5cbn0pKCk7XG5cblxuY29uc3QgdG9Eb3NMb2dpYyA9ICgoKSA9PiB7XG5cbiAgICBcbiBjb25zdCB0b0RvRWxlbWVudHNMaXN0ID0gW11cbiBjb25zdCB0b0RvT2JqZWN0c0xpc3QgPSBbXVxuICAgIFxuICAgY29uc3QgbmV3VG9EbyA9ICgpID0+IHtcblxuICAgIGNvbnN0IHRvRG9FbGVtZW50cyA9IFtdXG4gICAgbGV0IHRvRG9PYmplY3RzID0gW11cblxuICAgIGNvbnN0IHN1Ym1pdFRvRG9CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idXR0b25cIilcbiAgICBjb25zdCBhZGRUb0RvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtdG9kb1wiKVxuXG5cbiAgICBjb25zdCBzdG9yZVRvRG9zRE9NID0gKGUpICA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzFdXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SW5kZXggPSBpbmRleC5zbGljZSgtMSlcbiAgICAgICAgY29uc3QgdG9Eb0luZGV4ID0gdG9Eb0VsZW1lbnRzLmxlbmd0aFxuXG4gICAgICAgIHRvRG9FbGVtZW50cy5wdXNoKGdlbkRvbUVsZW1lbnRzLmdlblRvRG9zRE9NKGN1cnJlbnRQcm9qZWN0SW5kZXgsdG9Eb0luZGV4KSlcbiAgICAgICAgZXhwYW5kVG9Eb3MuZXhwYW5kVG9Eb0xvZ2ljKHRvRG9JbmRleClcbiAgICB9IFxuXG5cbiAgICBjb25zdCBwdXNoRWxlbWVudHNMaXN0ID0gKCkgPT4ge1xuICAgICAgICB0b0RvRWxlbWVudHNMaXN0LnB1c2godG9Eb0VsZW1lbnRzKVxuICAgIH1cblxuICAgIGNvbnN0IHB1c2hPYmplY3RzTGlzdCA9ICgpID0+IHtcbiAgICAgICAgdG9Eb09iamVjdHNMaXN0LnB1c2godG9Eb09iamVjdHMpXG4gICAgfVxuICAgIFxuXG4gICAgY29uc3QgbmV3VG9Eb09iamVjdCA9ICgpID0+IHtcblxuICAgICAgICBmb3IoaSA9IDA7IGkgPCB0b0RvRWxlbWVudHMubGVuZ3RoIDsgaSsrKXtcblxuICAgICAgICB0b0RvVGl0bGVWYWx1ZSA9ICB0b0RvRWxlbWVudHNbaV0udG9Eb1RpdGxlLnZhbHVlXG4gICAgICAgIHRvRG9PYmplY3RzLnB1c2goZ2VuT2JqZWN0cy5jcmVhdGVUb0RvKHRvRG9UaXRsZVZhbHVlKSlcblxuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICB9XG5cbiAgICBhZGRUb0RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge3N0b3JlVG9Eb3NET00oZSl9KVxuICAgIHN1Ym1pdFRvRG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsbmV3VG9Eb09iamVjdClcbiAgICBzdWJtaXRUb0RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHB1c2hFbGVtZW50c0xpc3QpXG4gICAgc3VibWl0VG9Eb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixwdXNoT2JqZWN0c0xpc3QpXG4gICAgICAgIFxuICB9XG5cbiAgICAgXG4gY29uc3QgcmV0dXJuVG9Eb0RPTSA9IChwcm9qZWN0SW5kZXgpID0+IHtcblxuICAgICAgICBcbiAgICAgICAgY29uc3QgbnVtYmVyT2ZUb0RvcyA9IHRvRG9FbGVtZW50c0xpc3RbcHJvamVjdEluZGV4XS5sZW5ndGhcbiAgICAgICAgY29uc3Qgc3VibWl0VG9Eb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LWJ1dHRvblwiKVxuICAgICAgICBjb25zdCBhZGRUb0RvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtdG9kb1wiKVxuXG4gICAgICAgIGFkZFRvRG9CdXR0b24uY2xhc3NOYW1lID0gXCJvbGQtc3VibWl0LXRvZG9cIlxuICAgICAgICBjb25zdCBvbGRTdWJtaXRUb0RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbGQtc3VibWl0LXRvZG9cIilcbiAgICAgICAgXG4gICAgICAgIFxuXG4gICAgY29uc3QgZ2VuVG9Eb0VsZW1lbnRzID0gKCkgPT4ge1xuXG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBudW1iZXJPZlRvRG9zOyBpKyspe1xuXG4gICAgICAgICAgICAgICAgZ2VuRG9tRWxlbWVudHMuZ2VuVG9Eb3NET00ocHJvamVjdEluZGV4LGkpXG5cbiAgICAgICAgICAgICAgICAvL0lmIHdlIHdhbnQgdG8gYWRkIGFueSBvdGhlciB2YWx1ZSBhYm91dCBvdXIgdG8tZG9zLCB3ZSBjYW4gYWRkIGl0IGhlcmUsIGJ1dCBmaXJzdCwgd2Ugc2hvdWxkIGFkZCB0aGVtIGluc2lkZSBvZiBvdXIgT2JqZWN0IEZ1bmN0aW9ucy5cblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby10aXRsZVwiK2kpLnZhbHVlID0gdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0udGl0bGUgICBcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBjYWxsRXhwYW5kVG9EbygpXG4gICAgICAgIH1cblxuICAgIGNvbnN0IG5ld1RvRG9PYmplY3RPbGRQcm9qZWN0ID0gKCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkTnVtYmVyT2ZUb0RvcyA9IHRvRG9FbGVtZW50c0xpc3RbcHJvamVjdEluZGV4XS5sZW5ndGhcblxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdXBkYXRlZE51bWJlck9mVG9Eb3MgOyBpKyspe1xuXG4gICAgICAgICAgICAgICAgICB0b0RvVGl0bGVWYWx1ZSA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tdGl0bGVcIitpKS52YWx1ZVxuXG4gICAgICAgICAgICAgICAgICAvL2lmIHRoZSBvYmplY3QgZG9lc24ndCBleGlzdHMsIHB1c2ggdGhlIG5ldyBvYmplY3QsIGlmIGl0IGFscmVhZHkgZXhpc3RzLCB0aGVuIGNoYW5nZSB0aGUgZGV0YWlscyAuXG5cbiAgICAgICAgICAgICAgICAgIGlmKCB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXSA9PT0gdW5kZWZpbmVkICApe1xuXG4gICAgICAgICAgICAgICAgICAgIHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdLnB1c2goZ2VuT2JqZWN0cy5jcmVhdGVUb0RvKHRvRG9UaXRsZVZhbHVlKSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS50aXRsZSA9IHRvRG9UaXRsZVZhbHVlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIGNvbnN0IG5ld1RvRG9ET01PbGRQcm9qZWN0ID0gKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgdG9Eb0VsZW1lbnRzTGlzdFtwcm9qZWN0SW5kZXhdLnB1c2goZ2VuRG9tRWxlbWVudHMuZ2VuVG9Eb3NET00ocHJvamVjdEluZGV4LGkpKVxuXG4gICAgICAgIH1cblxuICAgIGNvbnN0IGNhbGxFeHBhbmRUb0RvID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZWROdW1iZXJPZlRvRG9zID0gdG9Eb0VsZW1lbnRzTGlzdFtwcm9qZWN0SW5kZXhdLmxlbmd0aFxuXG4gICAgICAgIGZvcihpID0gMDsgaSA8IHVwZGF0ZWROdW1iZXJPZlRvRG9zOyBpKyspe2V4cGFuZFRvRG9zLmV4cGFuZFRvRG9Mb2dpYyhpKX1cbiAgICB9XG5cbiAgICAgICAgb2xkU3VibWl0VG9Eby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixuZXdUb0RvRE9NT2xkUHJvamVjdClcbiAgICAgICAgb2xkU3VibWl0VG9Eby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixjYWxsRXhwYW5kVG9EbylcbiAgICAgICAgc3VibWl0VG9Eb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixuZXdUb0RvT2JqZWN0T2xkUHJvamVjdClcbiAgICAgICAgXG5cbiAgICAgICAgcmV0dXJuIHtnZW5Ub0RvRWxlbWVudHN9XG5cbiAgICB9XG5cblxuXG5cbiAgICByZXR1cm4ge25ld1RvRG8scmV0dXJuVG9Eb0RPTX1cbiAgIFxufSkoKTtcblxuXG5cbmNvbnN0IGV4cGFuZFRvRG9zID0gKCgpID0+IHtcblxuXG4gICAgLy9jbGVhbmVkIGNvZGUgYW5kIHN0YXJ0ZWQgdGhlIGJhc2ljIHN0cnVjdHVyZSBvZiBleHBhbmQgdG8tZG8gbG9naWNcbiAgXG4gICBcbiBjb25zdCBleHBhbmRUb0RvTG9naWMgPSAoY3VycmVudFRvRG9JbmRleCkgPT4ge1xuXG4gICAgXG4gICAgY29uc3QgY3VycmVudFRvRG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tdGl0bGVcIitjdXJyZW50VG9Eb0luZGV4KVxuXG4gICAgY29uc3QgZXhwYW5kVG9EbyA9IChlKSA9PiB7XG5cbiAgICAgICAgY29uc3QgdG9Eb0luZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzBdLnNsaWNlKC0xKVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUb0RvRGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXhwYW5kLXRvZG9cIit0b0RvSW5kZXgpXG5cbiAgICAgICAgZ2VuRG9tRWxlbWVudHMuZ2VuVG9Eb0RldGFpbHModG9Eb0luZGV4KVxuICAgICAgICBcbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIFxuICAgIGN1cnJlbnRUb0RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge2V4cGFuZFRvRG8oZSl9KVxuICAgXG4gfVxuXG4gXG5cblxuXG4gcmV0dXJuIHtleHBhbmRUb0RvTG9naWN9XG5cblxuXG5cbn0pKCk7Il0sIm5hbWVzIjpbImdlbk9iamVjdHMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYWRkVG9EbyIsImR1ZURhdGUiLCJwcmlvcml0eSIsImNoZWNrZWQiLCJnZW5Eb21FbGVtZW50cyIsImkiLCJyaWdodFBhcnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuZXdQcm9qZWN0Q29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGl0bGVJbnB1dCIsInR5cGUiLCJ2YWx1ZSIsImRlc2NyaXB0aW9uSW5wdXQiLCJ0b0Rvc0NvbnRhaW5lciIsInN1Ym1pdFByb2plY3QiLCJ0ZXh0Q29udGVudCIsInN1Ym1pdFRvRG8iLCJwcm9qZWN0SW5kZXgiLCJ0b0RvSW5kZXgiLCJ0b0RvQ29udGFpbmVyIiwiYmFzaWNFbGVtZW50c0NvbnRhaW5lciIsImRlbGV0ZUJ1dHRvbiIsInRvRG9UaXRsZSIsImNoZWNrVG9EbyIsImRhdGVJbnB1dCIsInByaW9yaXR5Q29sb3IiLCJoaWdoUHJpb3JpdHkiLCJNZWRpdW1Qcmlvcml0eSIsIkxvd1ByaW9yaXR5IiwidG9Eb3NMb2dpYyIsInByb2plY3RFbGVtZW50cyIsInByb2plY3RPYmplY3RMaXN0IiwiYWRkQnV0dG9uIiwibmV3UHJvamVjdE9iamVjdCIsImN1cnJlbnRQcm9qZWN0IiwibGVuZ3RoIiwicHVzaCIsInJlbW92ZUNvbnRhaW5lciIsInJlbW92ZSIsImNoZWNrQ29udGFpbmVyIiwicmV0dXJuUHJvamVjdEFuZFRvRG9zIiwiY3VycmVudFByb2plY3RJbmRleCIsInJldHVyblByb2plY3RzRE9NIiwicmV0dXJuVG9Eb0RPTSIsImdlblRvRG9FbGVtZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0Iiwic2xpY2UiLCJjdXJyZW50T2JqZWN0IiwibmV3VmFsdWUiLCJ1cGRhdGVUYWIiLCJ1cGRhdGVQcm9qZWN0T2JqZWN0IiwiY2FsbFJldHVyblRhYiIsInRhYkNvbnRhaW5lciIsIm5ld1Byb2plY3QiLCJwYXJzZUludCIsImFkZFByb2plY3RET00iLCJuZXdUb0RvIiwidG9Eb0VsZW1lbnRzTGlzdCIsInRvRG9PYmplY3RzTGlzdCIsInRvRG9FbGVtZW50cyIsInRvRG9PYmplY3RzIiwic3VibWl0VG9Eb0J1dHRvbiIsImV4cGFuZFRvRG9zIiwiZXhwYW5kVG9Eb0xvZ2ljIiwic3RvcmVUb0Rvc0RPTSIsInRvRG9UaXRsZVZhbHVlIiwibnVtYmVyT2ZUb0RvcyIsImNsYXNzTmFtZSIsIm9sZFN1Ym1pdFRvRG8iLCJjYWxsRXhwYW5kVG9EbyIsInVwZGF0ZWROdW1iZXJPZlRvRG9zIiwidW5kZWZpbmVkIiwiY3VycmVudFRvRG9JbmRleCIsImV4cGFuZFRvRG8iXSwic291cmNlUm9vdCI6IiJ9