(()=>{const t=(t,e)=>({title:t,description:e}),e=(t,e,o,c,n)=>({title:t,description:e,dueDate:o,priority:c,checked:n}),o=t=>{const e=document.querySelector(".right-part"),o=document.createElement("div");e.appendChild(o),o.classList.add("project-container");const c=document.createElement("input");o.appendChild(c),c.type="text",c.classList.add("project-title"),c.classList.add("title-input"+t),c.value="New Title";const n=document.createElement("textarea");o.appendChild(n),n.type="text",n.classList.add("project-desc"),n.classList.add("desc-input"+t),n.value="Description...";const i=document.createElement("div");o.appendChild(i),i.classList.add("todos-container");const s=document.createElement("div");o.appendChild(s),s.classList.add("bottom-container");const l=document.createElement("button");s.appendChild(l),l.classList.add("submit-button"),l.classList.add("submit-project-button"+t),l.textContent="Submit Details";const d=document.createElement("button");return s.appendChild(d),d.type="button",d.classList.add("submit-todo"),d.classList.add("submit-todo-button"+t),d.textContent="+",{titleInput:c,descriptionInput:n,submitToDo:d,submitProject:l}},c=(t,e)=>{const o=document.querySelector(".todos-container"),c=document.createElement("div");c.classList.add("todo-container"),c.classList.add("todo-container"+e),o.appendChild(c);const n=document.createElement("div");n.classList.add("basic-elements-container"),c.appendChild(n);const i=document.createElement("button");i.classList.add("delete-button"),i.classList.add("delete-button"+e),i.textContent="x",n.appendChild(i);const s=document.createElement("input");n.appendChild(s),s.value="New to-do",s.type="text",s.classList.add("todo-title"+e),s.classList.add("expand-todo");const l=document.createElement("input");n.appendChild(l),l.type="checkbox",l.classList.add("checkbox"+e),l.classList.add("checkbox"+t);const d=document.createElement("input");c.appendChild(d),d.type="text",d.classList.add("todo-desc"+e),d.classList.add("todo-description"),d.value="Description...";const r=document.createElement("input");c.appendChild(r),r.type="date",r.classList.add("todo-date"+e),r.classList.add("todo-date");const a=document.createElement("select");c.appendChild(a),a.classList.add("todo-priority"+e),a.classList.add("todo-priority");const u=document.createElement("option");u.value="High",u.textContent="High",a.appendChild(u);const p=document.createElement("option");p.value="Medium",p.textContent="Medium",a.appendChild(p);const m=document.createElement("option");return m.value="Low",m.textContent="Low",a.appendChild(m),{toDoTitle:s,descriptionInput:d,dateInput:r,setPriority:a,checkToDo:l}},n=((()=>{const e=JSON.parse(localStorage.getItem("projectElements")||"[]"),c=JSON.parse(localStorage.getItem("projectObjects")||"[]"),s=document.querySelector(".new-project"),l=()=>{const o=e[e.length-1],n=o.titleInput.value,i=o.descriptionInput.value,s=o.submitToDo.value;c.push(t(n,i,s)),localStorage.setItem("projectObjects",JSON.stringify(c))},d=()=>{(document.querySelector(".right-part").firstChild=!0)&&document.querySelector(".project-container").remove()},r=()=>{null!=document.querySelector(".project-container")&&d()},a=t=>{r(),(t=>{const e=c[t];o(t),document.querySelector(".title-input"+t).value=e.title,document.querySelector(".desc-input"+t).value=e.description})(t),n.returnToDoDOM(t).genToDoElements(),document.querySelector(".submit-project-button"+t).addEventListener("click",(t=>{(t=>{const o=t.target.classList[1].slice(-1),n=c[o];n.title=document.querySelector(".title-input"+o).value,n.description=document.querySelector(".desc-input"+o).value,((t,e)=>{document.querySelector(".number"+t).textContent=e})(o,n.title),d(),localStorage.setItem("projectObjects",JSON.stringify(c)),localStorage.setItem("projectElements",JSON.stringify(e))})(t)}))},u=t=>{(()=>{const t=document.querySelector(".tab-container"),o=document.createElement("button");o.classList.add("project-tab","number"+parseInt(e.length-1)),t.appendChild(o),o.textContent=c[c.length-1].title,d()})();const o=t.target.classList[1].slice(-1);document.querySelector(".number"+o).addEventListener("click",(()=>{a(o)}))},p=()=>{const t=document.getElementById("search-input"),e=document.getElementsByClassName("project-tab");t.addEventListener("keyup",(t=>{const{value:o}=t.target,c=o.toLowerCase();for(const t of e)t.textContent.toLowerCase().includes(c)?t.style.display="block":t.style.display="none"}))};s.addEventListener("click",(()=>{r(),e.push(o(e.length)),localStorage.setItem("projectElements",JSON.stringify(e)),n.newToDo(),e[e.length-1].submitProject.addEventListener("click",l),e[e.length-1].submitProject.addEventListener("click",u),e[e.length-1].submitProject.addEventListener("click",p)})),(()=>{const t=t=>{const e=t.target.classList[1].slice(-1);a(e)};if(localStorage.getItem("projectElements")){(()=>{const t=document.querySelector(".tab-container");for(i=0;i<c.length;i++){const e=document.createElement("button");e.classList.add("project-tab","number"+i),t.appendChild(e),e.textContent=c[i].title}})();const e=document.querySelectorAll(".project-tab");for(i=0;i<c.length;i++)e[i].addEventListener("click",(e=>{t(e)}))}})()})(),(()=>{const t=JSON.parse(localStorage.getItem("toDoElementsList")||"[]"),o=JSON.parse(localStorage.getItem("toDoObjectsList")||"[]");return{newToDo:()=>{const n=[];let l=[];const d=document.querySelector(".submit-button"),r=document.querySelector(".submit-todo");r.addEventListener("click",(t=>{(t=>{const e=t.target.classList[1].slice(-1),o=n.length;n.push(c(e,o)),s.expandToDoLogic(o),(t=>{document.querySelector(".delete-button"+t).addEventListener("click",(()=>{document.querySelector(".todo-container"+t).remove(),n.splice(t,1)}))})(o)})(t)})),d.addEventListener("click",(()=>{for(i=0;i<n.length;i++)toDoTitleValue=n[i].toDoTitle.value,toDoDescriptionValue=n[i].descriptionInput.value,toDoDateInput=n[i].dateInput.value,toDoPriority=n[i].setPriority.value,isToDoChecked=n[i].checkToDo.checked,l.push(e(toDoTitleValue,toDoDescriptionValue,toDoDateInput,toDoPriority,isToDoChecked))})),d.addEventListener("click",(()=>{t.push(n),localStorage.setItem("toDoElementsList",JSON.stringify(t))})),d.addEventListener("click",(()=>{o.push(l),localStorage.setItem("toDoObjectsList",JSON.stringify(o))}))},returnToDoDOM:n=>{const l=t[n].length,d=document.querySelector(".submit-button");document.querySelector(".submit-todo").className="old-submit-todo";const r=document.querySelector(".old-submit-todo"),a=()=>{const e=t[n].length;for(i=0;i<e;i++)s.expandToDoLogic(i)};return r.addEventListener("click",(()=>{t[n].push(c(n,i)),localStorage.setItem("toDoElementsList",JSON.stringify(t))})),r.addEventListener("click",a),d.addEventListener("click",(()=>{const c=t[n].length;for(i=0;i<c;i++)toDoTitleValue=document.querySelector(".todo-title"+i).value,toDoDescriptionValue=document.querySelector(".todo-desc"+i).value,toDoDateInputValue=document.querySelector(".todo-date"+i).value,toDoPriorityValue=document.querySelector(".todo-priority"+i).value,toDoCheckedValue=document.querySelector(".checkbox"+i).checked,void 0===o[n][i]?o[n].push(e(toDoTitleValue,toDoDescriptionValue,toDoDateInputValue,toDoPriorityValue,toDoCheckedValue)):(o[n][i].title=toDoTitleValue,o[n][i].description=toDoDescriptionValue,o[n][i].dueDate=toDoDateInputValue,o[n][i].priority=toDoPriorityValue,o[n][i].checked=toDoCheckedValue);localStorage.setItem("toDoObjectsList",JSON.stringify(o))})),{genToDoElements:()=>{for(i=0;i<l;i++)c(n,i),document.querySelector(".todo-title"+i).value=o[n][i].title,document.querySelector(".todo-desc"+i).value=o[n][i].description,document.querySelector(".todo-date"+i).value=o[n][i].dueDate,document.querySelector(".todo-priority"+i).value=o[n][i].priority,document.querySelector(".checkbox"+i).checked=o[n][i].checked;a(),((e,o)=>{const c=e=>{const c=e.target.classList[1].slice(-1);document.querySelector(".todo-container"+c).remove(),t[o].splice(c,1)};for(i=0;i<e;i++)currentDeleteButton=document.querySelector(".delete-button"+i),currentDeleteButton.addEventListener("click",(t=>{c(t)}))})(l,n),localStorage.setItem("toDoObjectsList",JSON.stringify(o)),localStorage.setItem("toDoElementsList",JSON.stringify(t))}}}}})()),s={expandToDoLogic:t=>{const e=document.querySelector(".todo-title"+t);e.addEventListener("click",(t=>{(t=>{const e=t.target.classList[0].slice(-1);document.querySelector(".expand-todo"+e),(t=>{const e=document.querySelector(".todo-desc"+t);e.style.width="80%",e.style.height="15px",e.style.padding="2px",e.style.border="1px solid black"})(e),(t=>{const e=document.querySelector(".todo-date"+t);e.style.width="80%",e.style.height="15px",e.style.padding="2px",e.style.border="1px solid black"})(e),(t=>{const e=document.querySelector(".todo-priority"+t);e.style.width="83%",e.style.height="22px",e.style.padding="2px",e.style.border="1px solid black"})(e),(t=>{document.querySelector(".todo-container"+t).style.gap="20px"})(e)})(t)}))}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsTUFDL0J0RyxFQUFpQmdFLE1BQU11QyxPQUFTLE9BQ2hDdkcsRUFBaUJnRSxNQUFNd0MsUUFBVSxNQUNqQ3hHLEVBQWlCZ0UsTUFBTXlDLE9BQVMsbUJBZGhDQyxDQUFnQm5HLEdBa0JBLENBQUNBLElBRWpCLE1BQU1vRyxFQUFlckgsU0FBU0MsY0FBYyxhQUFhZ0IsR0FDekRvRyxFQUFhM0MsTUFBTXNDLE1BQVEsTUFDM0JLLEVBQWEzQyxNQUFNdUMsT0FBUyxPQUM1QkksRUFBYTNDLE1BQU13QyxRQUFVLE1BQzdCRyxFQUFhM0MsTUFBTXlDLE9BQVMsbUJBdkI1QkcsQ0FBWXJHLEdBMkJVLENBQUNBLElBRXZCLE1BQU1zRyxFQUFnQnZILFNBQVNDLGNBQWMsaUJBQWlCZ0IsR0FDOURzRyxFQUFjN0MsTUFBTXNDLE1BQVEsTUFDNUJPLEVBQWM3QyxNQUFNdUMsT0FBUyxPQUM3Qk0sRUFBYzdDLE1BQU13QyxRQUFVLE1BQzlCSyxFQUFjN0MsTUFBTXlDLE9BQVMsbUJBaEM3QkssQ0FBa0J2RyxHQW9DRyxDQUFDQSxJQUVBakIsU0FBU0MsY0FBYyxrQkFBa0JnQixHQUVqRHlELE1BQU0rQyxJQUFNLFFBdkMxQkMsQ0FBaUJ6RyxFQUFTLEVBMkNnQjBHLENBQVd0RSxFQUFDLEdBQUUsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2VuT2JqZWN0cyA9ICgoKSA9PiB7XG5cbiAgICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKHRpdGxlLGRlc2NyaXB0aW9uKSA9PiB7XG5cbiAgICAgICAgIHRpdGxlID0gdGl0bGVcblxuICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxuXG4gICAgICAgIHJldHVybiB7dGl0bGUsZGVzY3JpcHRpb259XG5cblxuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZVRvRG8gPSAodGl0bGUsZGVzY3JpcHRpb24sZHVlRGF0ZSxwcmlvcml0eSxjaGVja2VkKSA9PiB7XG5cbiAgICAgICAgdGl0bGUgPSB0aXRsZVxuICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgICAgIGR1ZURhdGUgPSBkdWVEYXRlICBcbiAgICAgICAgcHJpb3JpdHkgPSBwcmlvcml0eVxuICAgICAgICBjaGVja2VkID0gY2hlY2tlZFxuXG4gICAgICAgIHJldHVybiB7dGl0bGUsZGVzY3JpcHRpb24sZHVlRGF0ZSxwcmlvcml0eSxjaGVja2VkfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHtjcmVhdGVQcm9qZWN0LGNyZWF0ZVRvRG99XG5cbn0pKCk7XG5cblxuY29uc3QgZ2VuRG9tRWxlbWVudHMgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgZ2VuUHJvamVjdHNET00gPSAoaSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHJpZ2h0UGFydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmlnaHQtcGFydFwiKVxuXG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIHJpZ2h0UGFydC5hcHBlbmRDaGlsZChuZXdQcm9qZWN0Q29udGFpbmVyKVxuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWNvbnRhaW5lclwiKVxuXG5cbiAgICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpXG4gICAgICAgIHRpdGxlSW5wdXQudHlwZSA9IFwidGV4dFwiXG4gICAgICAgIHRpdGxlSW5wdXQuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGl0bGVcIilcbiAgICAgICAgdGl0bGVJbnB1dC5jbGFzc0xpc3QuYWRkKFwidGl0bGUtaW5wdXRcIitpKVxuICAgICAgICB0aXRsZUlucHV0LnZhbHVlID0gXCJOZXcgVGl0bGVcIlxuXG4gXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIilcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbklucHV0KVxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnR5cGUgPSBcInRleHRcIlxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWRlc2NcIilcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC5jbGFzc0xpc3QuYWRkKFwiZGVzYy1pbnB1dFwiK2kpXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBcIkRlc2NyaXB0aW9uLi4uXCJcblxuICAgICAgIFxuICAgICAgICBjb25zdCB0b0Rvc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0b0Rvc0NvbnRhaW5lcilcbiAgICAgICAgdG9Eb3NDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRvZG9zLWNvbnRhaW5lclwiKVxuXG4gICAgICAgIGNvbnN0IGJvdHRvbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChib3R0b21Db250YWluZXIpXG4gICAgICAgIGJvdHRvbUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYm90dG9tLWNvbnRhaW5lclwiKVxuXG4gXG4gICAgICAgIGNvbnN0IHN1Ym1pdFByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgICAgIGJvdHRvbUNvbnRhaW5lci5hcHBlbmRDaGlsZChzdWJtaXRQcm9qZWN0KVxuICAgICAgICBzdWJtaXRQcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJzdWJtaXQtYnV0dG9uXCIpXG4gICAgICAgIHN1Ym1pdFByb2plY3QuY2xhc3NMaXN0LmFkZChcInN1Ym1pdC1wcm9qZWN0LWJ1dHRvblwiK2kpXG4gICAgICAgIHN1Ym1pdFByb2plY3QudGV4dENvbnRlbnQgPSBcIlN1Ym1pdCBEZXRhaWxzXCJcblxuXG4gICAgICAgIGNvbnN0IHN1Ym1pdFRvRG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgICAgIGJvdHRvbUNvbnRhaW5lci5hcHBlbmRDaGlsZChzdWJtaXRUb0RvKVxuICAgICAgICBzdWJtaXRUb0RvLnR5cGUgPVwiYnV0dG9uXCJcbiAgICAgICAgc3VibWl0VG9Eby5jbGFzc0xpc3QuYWRkKFwic3VibWl0LXRvZG9cIilcbiAgICAgICAgc3VibWl0VG9Eby5jbGFzc0xpc3QuYWRkKFwic3VibWl0LXRvZG8tYnV0dG9uXCIraSlcbiAgICAgICAgc3VibWl0VG9Eby50ZXh0Q29udGVudCA9IFwiK1wiXG5cblxuICAgICAgICByZXR1cm4ge3RpdGxlSW5wdXQsZGVzY3JpcHRpb25JbnB1dCxzdWJtaXRUb0RvLHN1Ym1pdFByb2plY3R9XG5cbiAgIH0gXG5cblxuICAgY29uc3QgZ2VuVG9Eb3NET00gPSAocHJvamVjdEluZGV4LHRvRG9JbmRleCkgPT57XG5cbiAgICAgICAgY29uc3QgdG9Eb3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG9zLWNvbnRhaW5lclwiKVxuXG4gICAgICAgIGNvbnN0IHRvRG9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIHRvRG9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcInRvZG8tY29udGFpbmVyXCIpXG4gICAgICAgIHRvRG9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcInRvZG8tY29udGFpbmVyXCIrdG9Eb0luZGV4KVxuICAgICAgICB0b0Rvc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b0RvQ29udGFpbmVyKVxuXG4gICAgICAgIGNvbnN0IGJhc2ljRWxlbWVudHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIGJhc2ljRWxlbWVudHNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImJhc2ljLWVsZW1lbnRzLWNvbnRhaW5lclwiKVxuICAgICAgICB0b0RvQ29udGFpbmVyLmFwcGVuZENoaWxkKGJhc2ljRWxlbWVudHNDb250YWluZXIpXG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1idXR0b25cIilcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtYnV0dG9uXCIrdG9Eb0luZGV4KVxuICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSBcInhcIlxuICAgICAgICBiYXNpY0VsZW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbilcbiAgICAgICAgXG5cbiAgICAgICAgY29uc3QgdG9Eb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgIGJhc2ljRWxlbWVudHNDb250YWluZXIuYXBwZW5kQ2hpbGQodG9Eb1RpdGxlKVxuICAgICAgICB0b0RvVGl0bGUudmFsdWUgPSBcIk5ldyB0by1kb1wiXG4gICAgICAgIHRvRG9UaXRsZS50eXBlID0gXCJ0ZXh0XCJcbiAgICAgICAgdG9Eb1RpdGxlLmNsYXNzTGlzdC5hZGQoXCJ0b2RvLXRpdGxlXCIrdG9Eb0luZGV4KVxuICAgICAgICB0b0RvVGl0bGUuY2xhc3NMaXN0LmFkZChcImV4cGFuZC10b2RvXCIpXG4gICAgICAgIFxuXG4gICAgICAgIGNvbnN0IGNoZWNrVG9EbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICBiYXNpY0VsZW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrVG9EbylcbiAgICAgICAgY2hlY2tUb0RvLnR5cGUgPSBcImNoZWNrYm94XCJcbiAgICAgICAgY2hlY2tUb0RvLmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiK3RvRG9JbmRleClcbiAgICAgICAgY2hlY2tUb0RvLmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiK3Byb2plY3RJbmRleClcblxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgIHRvRG9Db250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25JbnB1dClcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC50eXBlID0gXCJ0ZXh0XCJcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC5jbGFzc0xpc3QuYWRkKFwidG9kby1kZXNjXCIrdG9Eb0luZGV4KVxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LmNsYXNzTGlzdC5hZGQoXCJ0b2RvLWRlc2NyaXB0aW9uXCIpXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBcIkRlc2NyaXB0aW9uLi4uXCJcbiAgICAgICAgXG5cbiAgICAgICAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgIHRvRG9Db250YWluZXIuYXBwZW5kQ2hpbGQoZGF0ZUlucHV0KVxuICAgICAgICBkYXRlSW5wdXQudHlwZSA9IFwiZGF0ZVwiXG4gICAgICAgIGRhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKFwidG9kby1kYXRlXCIrdG9Eb0luZGV4KVxuICAgICAgICBkYXRlSW5wdXQuY2xhc3NMaXN0LmFkZChcInRvZG8tZGF0ZVwiKVxuXG5cbiAgICAgICAgY29uc3Qgc2V0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpXG4gICAgICAgIHRvRG9Db250YWluZXIuYXBwZW5kQ2hpbGQoc2V0UHJpb3JpdHkpXG4gICAgICAgIHNldFByaW9yaXR5LmNsYXNzTGlzdC5hZGQoXCJ0b2RvLXByaW9yaXR5XCIrdG9Eb0luZGV4KVxuICAgICAgICBzZXRQcmlvcml0eS5jbGFzc0xpc3QuYWRkKFwidG9kby1wcmlvcml0eVwiKVxuXG4gICAgICAgIGNvbnN0IGhpZ2hQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgaGlnaFByaW9yaXR5LnZhbHVlID0gXCJIaWdoXCJcbiAgICAgICAgaGlnaFByaW9yaXR5LnRleHRDb250ZW50ID0gXCJIaWdoXCJcbiAgICAgICAgc2V0UHJpb3JpdHkuYXBwZW5kQ2hpbGQoaGlnaFByaW9yaXR5KVxuXG4gICAgICAgIGNvbnN0IE1lZGl1bVByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuICAgICAgICBNZWRpdW1Qcmlvcml0eS52YWx1ZSA9IFwiTWVkaXVtXCJcbiAgICAgICAgTWVkaXVtUHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIk1lZGl1bVwiXG4gICAgICAgIHNldFByaW9yaXR5LmFwcGVuZENoaWxkKE1lZGl1bVByaW9yaXR5KVxuXG4gICAgICAgIGNvbnN0IExvd1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuICAgICAgICBMb3dQcmlvcml0eS52YWx1ZSA9IFwiTG93XCJcbiAgICAgICAgTG93UHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIkxvd1wiXG4gICAgICAgIHNldFByaW9yaXR5LmFwcGVuZENoaWxkKExvd1ByaW9yaXR5KVxuXG5cblxuICAgICAgICByZXR1cm4ge3RvRG9UaXRsZSxkZXNjcmlwdGlvbklucHV0LGRhdGVJbnB1dCxzZXRQcmlvcml0eSxjaGVja1RvRG99XG4gICB9XG5cbiAgIFxuXG4gICByZXR1cm4ge2dlblByb2plY3RzRE9NLGdlblRvRG9zRE9NfVxuXG4gICBcbn0pKCk7XG5cbiAgIFxuXG4gICBcblxuXG5cbmNvbnN0IHByb2plY3RzTG9naWMgPSAoKCkgPT4ge1xuXG4gIC8vR2xvYmFsIGNvbnN0YW50c1xuXG4gICBjb25zdCBwcm9qZWN0RWxlbWVudHMgPSAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RFbGVtZW50c1wiKSB8fCBcIltdXCIpO1xuXG4gICBjb25zdCBwcm9qZWN0T2JqZWN0TGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0T2JqZWN0c1wiKSB8fCBcIltdXCIpO1xuXG4gICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy1wcm9qZWN0XCIpXG5cblxuICAgLy9GdW5jdGlvbnNcblxuICAgY29uc3QgbmV3UHJvamVjdERPTSA9ICgpID0+IHtcblxuICAgIHByb2plY3RFbGVtZW50cy5wdXNoKGdlbkRvbUVsZW1lbnRzLmdlblByb2plY3RzRE9NKHByb2plY3RFbGVtZW50cy5sZW5ndGgpKVxuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0RWxlbWVudHNcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdEVsZW1lbnRzKSlcblxuICAgIFxuXG4gICB9XG5cblxuICAgY29uc3QgbmV3UHJvamVjdE9iamVjdCA9ICgpID0+IHtcblxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdEVsZW1lbnRzW3Byb2plY3RFbGVtZW50cy5sZW5ndGgtMV1cblxuICAgIGNvbnN0IHRpdGxlID0gY3VycmVudFByb2plY3QudGl0bGVJbnB1dC52YWx1ZVxuICAgICAgICAgICAgXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBjdXJyZW50UHJvamVjdC5kZXNjcmlwdGlvbklucHV0LnZhbHVlXG4gICAgXG4gICAgY29uc3QgYWRkVG9EbyA9IGN1cnJlbnRQcm9qZWN0LnN1Ym1pdFRvRG8udmFsdWVcblxuXG4gICAgcHJvamVjdE9iamVjdExpc3QucHVzaChnZW5PYmplY3RzLmNyZWF0ZVByb2plY3QodGl0bGUsIGRlc2NyaXB0aW9uLCBhZGRUb0RvKSlcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdE9iamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdE9iamVjdExpc3QpKVxuXG4gICB9XG4gICBcblxuICAgY29uc3QgcmVtb3ZlQ29udGFpbmVyID0gKCkgPT4ge1xuXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmlnaHQtcGFydFwiKS5maXJzdENoaWxkID0hIHVuZGVmaW5lZCl7XG5cbiAgICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1jb250YWluZXJcIilcbiAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmUoKVxuXG4gICAgfVxuXG4gICBlbHNlIHt9XG5cbiAgICB9XG5cbiAgIGNvbnN0IGNoZWNrQ29udGFpbmVyID0gKCkgPT4ge1xuICAgIFxuICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtY29udGFpbmVyXCIpICE9IG51bGwpe1xuICAgICAgICAgICAgcmVtb3ZlQ29udGFpbmVyKClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgXG5cblxuICAgY29uc3QgYWRkUHJvamVjdERPTSA9ICgpID0+IHtcblxuICAgIGNvbnN0IHRhYkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFiLWNvbnRhaW5lclwiKVxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG5cbiAgICBuZXdQcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRhYlwiLCBcIm51bWJlclwiK3BhcnNlSW50KHByb2plY3RFbGVtZW50cy5sZW5ndGgtMSkpXG4gICAgdGFiQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1Byb2plY3QpXG4gICAgXG4gICAgLy9Bc3NpZ24gYSBuYW1lIHRvIHRoZSBsZWZ0LXBhcnQgdGFiIFxuICAgIG5ld1Byb2plY3QudGV4dENvbnRlbnQgPSBwcm9qZWN0T2JqZWN0TGlzdFtwcm9qZWN0T2JqZWN0TGlzdC5sZW5ndGgtMV0udGl0bGVcblxuICAgIC8vd2hlbiB0aGUgdXNlciBjbGlja3Mgc3VibWl0LCB0aGUgUHJvamVjdCBjb250YWluZXIgZ2V0cyByZW1vdmVkLlxuICAgIHJlbW92ZUNvbnRhaW5lcigpXG5cbiAgIH1cblxuICAgY29uc3QgcmV0dXJuUHJvamVjdHNET00gPSAoY3VycmVudFByb2plY3RJbmRleCkgPT4ge1xuXG4gICAgY29uc3QgY3VycmVudFByb2plY3QgPSBwcm9qZWN0T2JqZWN0TGlzdFtjdXJyZW50UHJvamVjdEluZGV4XVxuICAgIGdlbkRvbUVsZW1lbnRzLmdlblByb2plY3RzRE9NKGN1cnJlbnRQcm9qZWN0SW5kZXgpXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWlucHV0XCIrY3VycmVudFByb2plY3RJbmRleCkudmFsdWUgPSBjdXJyZW50UHJvamVjdC50aXRsZVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVzYy1pbnB1dFwiK2N1cnJlbnRQcm9qZWN0SW5kZXgpLnZhbHVlID0gY3VycmVudFByb2plY3QuZGVzY3JpcHRpb25cblxufVxuXG4gICBjb25zdCB1cGRhdGVQcm9qZWN0T2JqZWN0ID0gKGUpID0+IHtcblxuICAgIGNvbnN0IGluZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzFdXG4gICAgY29uc3QgY3VycmVudFByb2plY3RJbmRleCA9IGluZGV4LnNsaWNlKC0xKVxuICAgIGNvbnN0IGN1cnJlbnRPYmplY3QgPSBwcm9qZWN0T2JqZWN0TGlzdFtjdXJyZW50UHJvamVjdEluZGV4XVxuXG4gICAgY3VycmVudE9iamVjdC50aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGUtaW5wdXRcIitjdXJyZW50UHJvamVjdEluZGV4KS52YWx1ZVxuICAgIGN1cnJlbnRPYmplY3QuZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc2MtaW5wdXRcIitjdXJyZW50UHJvamVjdEluZGV4KS52YWx1ZVxuXG4gICAgdXBkYXRlVGFiKGN1cnJlbnRQcm9qZWN0SW5kZXgsY3VycmVudE9iamVjdC50aXRsZSlcbiAgICByZW1vdmVDb250YWluZXIoKVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdE9iamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdE9iamVjdExpc3QpKVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdEVsZW1lbnRzXCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RFbGVtZW50cykpXG5cbn1cblxuICAgY29uc3QgdXBkYXRlVGFiID0gKGN1cnJlbnRQcm9qZWN0SW5kZXgsbmV3VmFsdWUpID0+IHtcblxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0VGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5udW1iZXJcIitjdXJyZW50UHJvamVjdEluZGV4KVxuICAgIGN1cnJlbnRQcm9qZWN0VGFiLnRleHRDb250ZW50ID0gbmV3VmFsdWVcblxufVxuXG4gICBjb25zdCByZXR1cm5Qcm9qZWN0QW5kVG9Eb3MgPSAoY3VycmVudFByb2plY3RJbmRleCkgPT4ge1xuXG4gICAgY2hlY2tDb250YWluZXIoKVxuICAgIHJldHVyblByb2plY3RzRE9NKGN1cnJlbnRQcm9qZWN0SW5kZXgpXG4gICAgdG9Eb3NMb2dpYy5yZXR1cm5Ub0RvRE9NKGN1cnJlbnRQcm9qZWN0SW5kZXgpLmdlblRvRG9FbGVtZW50cygpXG4gICAgY29uc3QgY3VycmVudFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LXByb2plY3QtYnV0dG9uXCIrY3VycmVudFByb2plY3RJbmRleClcbiAgICBcbiAgICBjdXJyZW50U3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PiB7dXBkYXRlUHJvamVjdE9iamVjdChlKX0pXG5cbn1cblxuICAgY29uc3QgY2FsbFJldHVyblRhYiA9IChlKSA9PiB7XG5cbiAgICBhZGRQcm9qZWN0RE9NKClcbiAgICBjb25zdCBpbmRleCA9IGUudGFyZ2V0LmNsYXNzTGlzdFsxXVxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SW5kZXggPSBpbmRleC5zbGljZSgtMSlcbiAgICBjb25zdCBjdXJyZW50UHJvamVjdFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubnVtYmVyXCIrY3VycmVudFByb2plY3RJbmRleClcblxuICAgIGN1cnJlbnRQcm9qZWN0VGFiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7cmV0dXJuUHJvamVjdEFuZFRvRG9zKGN1cnJlbnRQcm9qZWN0SW5kZXgpfSlcblxuIH1cblxuLy9zZWFyY2ggbG9naWMgYmFzZWQgb24gYSB0dXRvcmlhbCBvZiBqYXZhc2NyaXB0LnBsYWluZW5nbGlzaC5pbyAoYmVjYXVzZSBpdCBpcyBqdXN0IGFuIGV4dHJhIGFuZCBub3QgcmVxdWlyZWQgZmVhdHVyZS4pXG4gY29uc3Qgc2VhcmNoTG9naWMgPSAoKSA9PiB7XG5cbiAgICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoLWlucHV0XCIpXG5cbiAgICBjb25zdCBwcm9qZWN0TmFtZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicHJvamVjdC10YWJcIilcblxuICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xuXG4gICAgY29uc3Qge3ZhbHVlfSA9IGUudGFyZ2V0XG5cbiAgICBjb25zdCBmaW5hbFZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKVxuXG4gICAgZm9yIChjb25zdCBlbGVtZW50TmFtZSBvZiBwcm9qZWN0TmFtZXMpe1xuXG4gICAgICAgIGxldCBuYW1lID0gZWxlbWVudE5hbWUudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKVxuXG4gICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKGZpbmFsVmFsdWUpKXtcbiAgICAgICAgICAgIGVsZW1lbnROYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnROYW1lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgfSlcblxuICAgfVxuXG4gICBjb25zdCBuZXdQcm9qZWN0ID0gKCkgPT4ge1xuXG4gICAgY2hlY2tDb250YWluZXIoKVxuICAgIG5ld1Byb2plY3RET00oKVxuICAgIHRvRG9zTG9naWMubmV3VG9EbygpXG5cblxuICAgIHByb2plY3RFbGVtZW50c1twcm9qZWN0RWxlbWVudHMubGVuZ3RoLTFdLnN1Ym1pdFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG5ld1Byb2plY3RPYmplY3QpXG5cbiAgICBwcm9qZWN0RWxlbWVudHNbcHJvamVjdEVsZW1lbnRzLmxlbmd0aC0xXS5zdWJtaXRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjYWxsUmV0dXJuVGFiKVxuXG4gICAgcHJvamVjdEVsZW1lbnRzW3Byb2plY3RFbGVtZW50cy5sZW5ndGgtMV0uc3VibWl0UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixzZWFyY2hMb2dpYylcbiB9XG5cblxuXG4gICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsbmV3UHJvamVjdClcblxuXG5cbiAgIC8vbG9jYWxzdG9yYWdlIGxvZ2ljXG5cbiAgIGNvbnN0IGFkZEV4aXN0ZW50UHJvamVjdERPTSA9ICgpID0+IHtcblxuICAgIGNvbnN0IHRhYkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFiLWNvbnRhaW5lclwiKVxuICAgXG5cbiAgICBmb3IoaSA9IDA7IGkgPCBwcm9qZWN0T2JqZWN0TGlzdC5sZW5ndGg7IGkrKyl7XG5cbiAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbiAgICAgICAgbmV3UHJvamVjdC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC10YWJcIiwgXCJudW1iZXJcIitpKVxuICAgICAgICB0YWJDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3UHJvamVjdClcbiAgICAgICAgXG4gICAgICAgIC8vQXNzaWduIGEgbmFtZSB0byB0aGUgbGVmdC1wYXJ0IHRhYiBcbiAgICAgICAgbmV3UHJvamVjdC50ZXh0Q29udGVudCA9IHByb2plY3RPYmplY3RMaXN0W2ldLnRpdGxlXG5cbiAgICB9XG5cbiAgIH1cblxuICAgY29uc3QgbG9jYWxTdG9yYWdlUHJvamVjdHNSZXR1cm4gPSAoKSA9PiB7XG5cblxuICAgY29uc3QgcmV0dXJuRXhpc3RlbnRQcm9qZWN0c0FuZFRvRG9zID0gKGUpID0+IHtcblxuICAgIGNvbnN0IGluZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzFdXG4gICAgY29uc3QgY3VycmVudFByb2plY3RJbmRleCA9IGluZGV4LnNsaWNlKC0xKVxuXG4gICAgcmV0dXJuUHJvamVjdEFuZFRvRG9zKGN1cnJlbnRQcm9qZWN0SW5kZXgpXG5cbiAgIH1cblxuXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdEVsZW1lbnRzXCIpKXtcblxuICAgICAgICBhZGRFeGlzdGVudFByb2plY3RET00oKVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0VGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LXRhYlwiKVxuXG4gICAgICAgIGZvcihpID0gMDsgaSA8IHByb2plY3RPYmplY3RMaXN0Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0VGFiW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge3JldHVybkV4aXN0ZW50UHJvamVjdHNBbmRUb0RvcyhlKX0pXG4gICAgICAgIH1cbiAgICAgICAgXG5cblxuICAgfVxuXG4gICB9XG5cblxuICAgbG9jYWxTdG9yYWdlUHJvamVjdHNSZXR1cm4oKVxuICAgIFxuICAgXG59KSgpO1xuXG5cblxuXG5jb25zdCB0b0Rvc0xvZ2ljID0gKCgpID0+IHtcblxuICAgIFxuIGNvbnN0IHRvRG9FbGVtZW50c0xpc3QgPSAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvRG9FbGVtZW50c0xpc3RcIikgfHwgXCJbXVwiKTtcbiBjb25zdCB0b0RvT2JqZWN0c0xpc3QgPSAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvRG9PYmplY3RzTGlzdFwiKSB8fCBcIltdXCIpO1xuICAgIFxuICAgY29uc3QgbmV3VG9EbyA9ICgpID0+IHtcblxuICAgIGNvbnN0IHRvRG9FbGVtZW50cyA9IFtdXG4gICAgbGV0IHRvRG9PYmplY3RzID0gW11cblxuICAgIGNvbnN0IHN1Ym1pdFRvRG9CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idXR0b25cIilcbiAgICBjb25zdCBhZGRUb0RvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtdG9kb1wiKVxuXG5cbiAgICBjb25zdCBzdG9yZVRvRG9zRE9NID0gKGUpICA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzFdXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SW5kZXggPSBpbmRleC5zbGljZSgtMSlcbiAgICAgICAgY29uc3QgdG9Eb0luZGV4ID0gdG9Eb0VsZW1lbnRzLmxlbmd0aFxuXG4gICAgICAgIHRvRG9FbGVtZW50cy5wdXNoKGdlbkRvbUVsZW1lbnRzLmdlblRvRG9zRE9NKGN1cnJlbnRQcm9qZWN0SW5kZXgsdG9Eb0luZGV4KSlcbiAgICAgICAgZXhwYW5kVG9Eb3MuZXhwYW5kVG9Eb0xvZ2ljKHRvRG9JbmRleClcbiAgICAgICAgZGVsZXRlTmV3VG9Eb0xvZ2ljKHRvRG9JbmRleCxjdXJyZW50UHJvamVjdEluZGV4KVxuXG4gICAgfSBcblxuXG4gICAgY29uc3QgcHVzaEVsZW1lbnRzTGlzdCA9ICgpID0+IHtcbiAgICAgICAgdG9Eb0VsZW1lbnRzTGlzdC5wdXNoKHRvRG9FbGVtZW50cylcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvRG9FbGVtZW50c0xpc3RcIiwgSlNPTi5zdHJpbmdpZnkodG9Eb0VsZW1lbnRzTGlzdCkpXG4gICAgfVxuXG4gICAgY29uc3QgcHVzaE9iamVjdHNMaXN0ID0gKCkgPT4ge1xuICAgICAgICB0b0RvT2JqZWN0c0xpc3QucHVzaCh0b0RvT2JqZWN0cylcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvRG9PYmplY3RzTGlzdFwiLCBKU09OLnN0cmluZ2lmeSh0b0RvT2JqZWN0c0xpc3QpKVxuICAgIH1cbiAgICBcblxuICAgIGNvbnN0IG5ld1RvRG9PYmplY3QgPSAoKSA9PiB7XG5cbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgdG9Eb0VsZW1lbnRzLmxlbmd0aCA7IGkrKyl7XG5cbiAgICAgICAgLy9pZiB3ZSB3YW50IHRvIGFkZCBuZXcgdG8tZG8gZGV0YWlscyBhbmQgc2F2ZSB0aGVtLCB3ZSBoYXZlIHRvIGFkZCB0aGVtIGZyb20gaGVyZS5cblxuICAgICAgICB0b0RvVGl0bGVWYWx1ZSA9ICB0b0RvRWxlbWVudHNbaV0udG9Eb1RpdGxlLnZhbHVlXG4gICAgICAgIHRvRG9EZXNjcmlwdGlvblZhbHVlID0gdG9Eb0VsZW1lbnRzW2ldLmRlc2NyaXB0aW9uSW5wdXQudmFsdWVcbiAgICAgICAgdG9Eb0RhdGVJbnB1dCA9IHRvRG9FbGVtZW50c1tpXS5kYXRlSW5wdXQudmFsdWVcbiAgICAgICAgdG9Eb1ByaW9yaXR5ID0gdG9Eb0VsZW1lbnRzW2ldLnNldFByaW9yaXR5LnZhbHVlXG4gICAgICAgIGlzVG9Eb0NoZWNrZWQgPSB0b0RvRWxlbWVudHNbaV0uY2hlY2tUb0RvLmNoZWNrZWRcblxuICAgICAgICB0b0RvT2JqZWN0cy5wdXNoKGdlbk9iamVjdHMuY3JlYXRlVG9Ebyh0b0RvVGl0bGVWYWx1ZSx0b0RvRGVzY3JpcHRpb25WYWx1ZSx0b0RvRGF0ZUlucHV0LHRvRG9Qcmlvcml0eSxpc1RvRG9DaGVja2VkKSlcbiAgICAgICAgfVxuICAgICAgIFxuICAgICAgICAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlTmV3VG9Eb0xvZ2ljID0gKHRvRG9JbmRleCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnREZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlbGV0ZS1idXR0b25cIit0b0RvSW5kZXgpXG4gICAgXG4gICAgICAgIGNvbnN0IGRlbGV0ZVRvRG8gPSAoKSA9PiB7XG4gICAgXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1jb250YWluZXJcIit0b0RvSW5kZXgpLnJlbW92ZSgpXG4gICAgICAgIHRvRG9FbGVtZW50cy5zcGxpY2UodG9Eb0luZGV4LDEpXG5cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBjdXJyZW50RGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGRlbGV0ZVRvRG8pXG4gICAgICAgXG4gICAgfVxuXG4gICAgYWRkVG9Eb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtzdG9yZVRvRG9zRE9NKGUpfSlcbiAgICBzdWJtaXRUb0RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG5ld1RvRG9PYmplY3QpXG4gICAgc3VibWl0VG9Eb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixwdXNoRWxlbWVudHNMaXN0KVxuICAgIHN1Ym1pdFRvRG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscHVzaE9iamVjdHNMaXN0KVxuICAgICAgICBcbiB9XG5cbiBcbiBjb25zdCBkZWxldGVPbGRUb0RvTG9naWMgPSAobnVtYmVyT2ZUb0Rvcyxwcm9qZWN0SW5kZXgpID0+IHtcblxuICAgIGNvbnN0IGRlbGV0ZVRvRG8gPSAoZSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzFdXG4gICAgICAgIGNvbnN0IHRvRG9JbmRleCA9IGluZGV4LnNsaWNlKC0xKVxuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1jb250YWluZXJcIit0b0RvSW5kZXgpLnJlbW92ZSgpXG4gICAgICAgIHRvRG9FbGVtZW50c0xpc3RbcHJvamVjdEluZGV4XS5zcGxpY2UodG9Eb0luZGV4LDEpXG5cbiAgICB9XG5cbiAgICBmb3IoaSA9IDA7IGkgPCBudW1iZXJPZlRvRG9zOyBpKyspe1xuICAgICAgICBjdXJyZW50RGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZWxldGUtYnV0dG9uXCIraSlcbiAgICAgICAgY3VycmVudERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZSkgPT4ge2RlbGV0ZVRvRG8oZSl9KVxuICAgIH1cblxuIH1cblxuICAgICBcbiBjb25zdCByZXR1cm5Ub0RvRE9NID0gKHByb2plY3RJbmRleCkgPT4ge1xuXG4gICAgXG4gICAgICAgIGNvbnN0IG51bWJlck9mVG9Eb3MgPSB0b0RvRWxlbWVudHNMaXN0W3Byb2plY3RJbmRleF0ubGVuZ3RoXG4gICAgICAgIGNvbnN0IHN1Ym1pdFRvRG9CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idXR0b25cIilcbiAgICAgICAgY29uc3QgYWRkVG9Eb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LXRvZG9cIilcblxuICAgICAgICBhZGRUb0RvQnV0dG9uLmNsYXNzTmFtZSA9IFwib2xkLXN1Ym1pdC10b2RvXCJcbiAgICAgICAgY29uc3Qgb2xkU3VibWl0VG9EbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub2xkLXN1Ym1pdC10b2RvXCIpXG4gICAgICAgIFxuICAgICAgICBcblxuICAgIGNvbnN0IGdlblRvRG9FbGVtZW50cyA9ICgpID0+IHtcblxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbnVtYmVyT2ZUb0RvczsgaSsrKXtcblxuICAgICAgICAgICAgICAgIGdlbkRvbUVsZW1lbnRzLmdlblRvRG9zRE9NKHByb2plY3RJbmRleCxpKVxuXG4gICAgICAgICAgICAgICAgLy9JZiB3ZSB3YW50IHRvIGFkZCBhbnkgb3RoZXIgdmFsdWUgYWJvdXQgb3VyIHRvLWRvcyBpbiBvcmRlciB0byByZXR1cm4gaXQsIHdlIGNhbiBhZGQgaXQgaGVyZSwgYnV0IGZpcnN0LCB3ZSBzaG91bGQgYWRkIHRoZW0gaW5zaWRlIG9mIG91ciBuZXdUb0RvT2JqZWN0IEZ1bmN0aW9uLlxuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLXRpdGxlXCIraSkudmFsdWUgPSB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS50aXRsZSBcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tZGVzY1wiK2kpLnZhbHVlID0gdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0uZGVzY3JpcHRpb24gIFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1kYXRlXCIraSkudmFsdWUgPSB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS5kdWVEYXRlXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLXByaW9yaXR5XCIraSkudmFsdWUgPSB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS5wcmlvcml0eVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tib3hcIitpKS5jaGVja2VkID0gdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0uY2hlY2tlZFxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGNhbGxFeHBhbmRUb0RvKClcbiAgICAgICAgICAgIGRlbGV0ZU9sZFRvRG9Mb2dpYyhudW1iZXJPZlRvRG9zLHByb2plY3RJbmRleClcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9Eb09iamVjdHNMaXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvRG9PYmplY3RzTGlzdCkpXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvRG9FbGVtZW50c0xpc3RcIiwgSlNPTi5zdHJpbmdpZnkodG9Eb0VsZW1lbnRzTGlzdCkpXG4gICAgICAgIH1cblxuICAgIGNvbnN0IG5ld1RvRG9PYmplY3RPbGRQcm9qZWN0ID0gKCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkTnVtYmVyT2ZUb0RvcyA9IHRvRG9FbGVtZW50c0xpc3RbcHJvamVjdEluZGV4XS5sZW5ndGhcblxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdXBkYXRlZE51bWJlck9mVG9Eb3MgOyBpKyspe1xuXG4gICAgICAgICAgICAgICAgICB0b0RvVGl0bGVWYWx1ZSA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tdGl0bGVcIitpKS52YWx1ZVxuICAgICAgICAgICAgICAgICAgdG9Eb0Rlc2NyaXB0aW9uVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tZGVzY1wiK2kpLnZhbHVlXG4gICAgICAgICAgICAgICAgICB0b0RvRGF0ZUlucHV0VmFsdWUgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWRhdGVcIitpKS52YWx1ZVxuICAgICAgICAgICAgICAgICAgdG9Eb1ByaW9yaXR5VmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tcHJpb3JpdHlcIitpKS52YWx1ZVxuICAgICAgICAgICAgICAgICAgdG9Eb0NoZWNrZWRWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tib3hcIitpKS5jaGVja2VkXG5cblxuICAgICAgICAgICAgICAgICAgLy9pZiB0aGUgb2JqZWN0IGRvZXNuJ3QgZXhpc3RzLCBwdXNoIHRoZSBuZXcgb2JqZWN0LCBpZiBpdCBhbHJlYWR5IGV4aXN0cywgdGhlbiBjaGFuZ2UgdGhlIGRldGFpbHMgLlxuXG4gICAgICAgICAgICAgICAgICBpZiggdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0gPT09IHVuZGVmaW5lZCAgKXtcblxuICAgICAgICAgICAgICAgICAgICB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XS5wdXNoKGdlbk9iamVjdHMuY3JlYXRlVG9Ebyh0b0RvVGl0bGVWYWx1ZSx0b0RvRGVzY3JpcHRpb25WYWx1ZSx0b0RvRGF0ZUlucHV0VmFsdWUsdG9Eb1ByaW9yaXR5VmFsdWUsdG9Eb0NoZWNrZWRWYWx1ZSkpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0udGl0bGUgPSB0b0RvVGl0bGVWYWx1ZVxuICAgICAgICAgICAgICAgICAgICB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS5kZXNjcmlwdGlvbiA9IHRvRG9EZXNjcmlwdGlvblZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdW2ldLmR1ZURhdGUgPSB0b0RvRGF0ZUlucHV0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0ucHJpb3JpdHkgPSB0b0RvUHJpb3JpdHlWYWx1ZVxuICAgICAgICAgICAgICAgICAgICB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS5jaGVja2VkID0gdG9Eb0NoZWNrZWRWYWx1ZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9Eb09iamVjdHNMaXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvRG9PYmplY3RzTGlzdCkpXG4gICAgICAgIH1cblxuICAgIGNvbnN0IG5ld1RvRG9ET01PbGRQcm9qZWN0ID0gKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgdG9Eb0VsZW1lbnRzTGlzdFtwcm9qZWN0SW5kZXhdLnB1c2goZ2VuRG9tRWxlbWVudHMuZ2VuVG9Eb3NET00ocHJvamVjdEluZGV4LGkpKVxuXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b0RvRWxlbWVudHNMaXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvRG9FbGVtZW50c0xpc3QpKVxuXG4gICAgICAgIH1cblxuXG4gICAgY29uc3QgY2FsbEV4cGFuZFRvRG8gPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlZE51bWJlck9mVG9Eb3MgPSB0b0RvRWxlbWVudHNMaXN0W3Byb2plY3RJbmRleF0ubGVuZ3RoXG5cbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgdXBkYXRlZE51bWJlck9mVG9Eb3M7IGkrKyl7ZXhwYW5kVG9Eb3MuZXhwYW5kVG9Eb0xvZ2ljKGkpfVxuICAgIH1cblxuICAgICAgICBvbGRTdWJtaXRUb0RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG5ld1RvRG9ET01PbGRQcm9qZWN0KVxuICAgICAgICBvbGRTdWJtaXRUb0RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGNhbGxFeHBhbmRUb0RvKVxuICAgICAgICBzdWJtaXRUb0RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG5ld1RvRG9PYmplY3RPbGRQcm9qZWN0KVxuICAgICAgICBcblxuICAgICAgICByZXR1cm4ge2dlblRvRG9FbGVtZW50c31cblxuICAgIH1cblxuXG4gICAgXG5cblxuICAgIHJldHVybiB7bmV3VG9EbyxyZXR1cm5Ub0RvRE9NfVxuICAgXG59KSgpO1xuXG5cblxuY29uc3QgZXhwYW5kVG9Eb3MgPSAoKCkgPT4ge1xuXG5cbiAgICAvL2NsZWFuZWQgY29kZSBhbmQgc3RhcnRlZCB0aGUgYmFzaWMgc3RydWN0dXJlIG9mIGV4cGFuZCB0by1kbyBsb2dpY1xuICBcbiAgIFxuIGNvbnN0IGV4cGFuZFRvRG9Mb2dpYyA9IChjdXJyZW50VG9Eb0luZGV4KSA9PiB7XG5cbiAgICBcbiAgICBjb25zdCBjdXJyZW50VG9EbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby10aXRsZVwiK2N1cnJlbnRUb0RvSW5kZXgpXG5cbiAgICBjb25zdCBleHBhbmRUb0RvID0gKGUpID0+IHtcblxuICAgICAgICBjb25zdCB0b0RvSW5kZXggPSBlLnRhcmdldC5jbGFzc0xpc3RbMF0uc2xpY2UoLTEpXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUb0RvRGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXhwYW5kLXRvZG9cIit0b0RvSW5kZXgpXG5cbiAgICAgICAgc2hvd0Rlc2NyaXB0aW9uKHRvRG9JbmRleClcbiAgICAgICAgc2hvd0R1ZURhdGUodG9Eb0luZGV4KVxuICAgICAgICBzaG93UHJpb3JpdHlJbnB1dCh0b0RvSW5kZXgpXG4gICAgICAgIGFkanVzdFRvRG9QYXJlbnQodG9Eb0luZGV4KVxuXG4gICAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IHNob3dEZXNjcmlwdGlvbiA9ICh0b0RvSW5kZXgpID0+IHtcblxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWRlc2NcIit0b0RvSW5kZXgpXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQuc3R5bGUud2lkdGggPSBcIjgwJVwiXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQuc3R5bGUuaGVpZ2h0ID0gXCIxNXB4XCJcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC5zdHlsZS5wYWRkaW5nID0gXCIycHhcIlxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcblxuICAgIH1cblxuICAgIGNvbnN0IHNob3dEdWVEYXRlID0gKHRvRG9JbmRleCkgPT57XG5cbiAgICAgICAgY29uc3QgZHVlRGF0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWRhdGVcIit0b0RvSW5kZXgpXG4gICAgICAgIGR1ZURhdGVJbnB1dC5zdHlsZS53aWR0aCA9IFwiODAlXCJcbiAgICAgICAgZHVlRGF0ZUlucHV0LnN0eWxlLmhlaWdodCA9IFwiMTVweFwiXG4gICAgICAgIGR1ZURhdGVJbnB1dC5zdHlsZS5wYWRkaW5nID0gXCIycHhcIlxuICAgICAgICBkdWVEYXRlSW5wdXQuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuXG4gICAgfVxuXG4gICAgY29uc3Qgc2hvd1ByaW9yaXR5SW5wdXQgPSAodG9Eb0luZGV4KSA9PntcblxuICAgICAgICBjb25zdCBwcmlvcml0eUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLXByaW9yaXR5XCIrdG9Eb0luZGV4KVxuICAgICAgICBwcmlvcml0eUlucHV0LnN0eWxlLndpZHRoID0gXCI4MyVcIlxuICAgICAgICBwcmlvcml0eUlucHV0LnN0eWxlLmhlaWdodCA9IFwiMjJweFwiXG4gICAgICAgIHByaW9yaXR5SW5wdXQuc3R5bGUucGFkZGluZyA9IFwiMnB4XCJcbiAgICAgICAgcHJpb3JpdHlJbnB1dC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG5cbiAgICB9XG5cbiAgICBjb25zdCBhZGp1c3RUb0RvUGFyZW50ID0gKHRvRG9JbmRleCkgPT57XG5cbiAgICAgICAgY29uc3QgdG9Eb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1jb250YWluZXJcIit0b0RvSW5kZXgpXG5cbiAgICAgICAgdG9Eb0NvbnRhaW5lci5zdHlsZS5nYXAgPSBcIjIwcHhcIlxuICAgIH1cblxuICAgIFxuICAgIGN1cnJlbnRUb0RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge2V4cGFuZFRvRG8oZSl9KVxuICAgXG4gfVxuXG4gXG5cblxuXG4gcmV0dXJuIHtleHBhbmRUb0RvTG9naWN9XG5cblxuXG5cbn0pKCk7XG5cblxuXG4iXSwibmFtZXMiOlsiZ2VuT2JqZWN0cyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJjaGVja2VkIiwiZ2VuRG9tRWxlbWVudHMiLCJpIiwicmlnaHRQYXJ0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmV3UHJvamVjdENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNsYXNzTGlzdCIsImFkZCIsInRpdGxlSW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJkZXNjcmlwdGlvbklucHV0IiwidG9Eb3NDb250YWluZXIiLCJib3R0b21Db250YWluZXIiLCJzdWJtaXRQcm9qZWN0IiwidGV4dENvbnRlbnQiLCJzdWJtaXRUb0RvIiwicHJvamVjdEluZGV4IiwidG9Eb0luZGV4IiwidG9Eb0NvbnRhaW5lciIsImJhc2ljRWxlbWVudHNDb250YWluZXIiLCJkZWxldGVCdXR0b24iLCJ0b0RvVGl0bGUiLCJjaGVja1RvRG8iLCJkYXRlSW5wdXQiLCJzZXRQcmlvcml0eSIsImhpZ2hQcmlvcml0eSIsIk1lZGl1bVByaW9yaXR5IiwiTG93UHJpb3JpdHkiLCJ0b0Rvc0xvZ2ljIiwicHJvamVjdEVsZW1lbnRzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInByb2plY3RPYmplY3RMaXN0IiwiYWRkQnV0dG9uIiwibmV3UHJvamVjdE9iamVjdCIsImN1cnJlbnRQcm9qZWN0IiwibGVuZ3RoIiwiYWRkVG9EbyIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwicmVtb3ZlQ29udGFpbmVyIiwiZmlyc3RDaGlsZCIsInJlbW92ZSIsImNoZWNrQ29udGFpbmVyIiwicmV0dXJuUHJvamVjdEFuZFRvRG9zIiwiY3VycmVudFByb2plY3RJbmRleCIsInJldHVyblByb2plY3RzRE9NIiwicmV0dXJuVG9Eb0RPTSIsImdlblRvRG9FbGVtZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0Iiwic2xpY2UiLCJjdXJyZW50T2JqZWN0IiwibmV3VmFsdWUiLCJ1cGRhdGVUYWIiLCJ1cGRhdGVQcm9qZWN0T2JqZWN0IiwiY2FsbFJldHVyblRhYiIsInRhYkNvbnRhaW5lciIsIm5ld1Byb2plY3QiLCJwYXJzZUludCIsImFkZFByb2plY3RET00iLCJzZWFyY2hMb2dpYyIsInNlYXJjaElucHV0IiwiZ2V0RWxlbWVudEJ5SWQiLCJwcm9qZWN0TmFtZXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZmluYWxWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZWxlbWVudE5hbWUiLCJpbmNsdWRlcyIsInN0eWxlIiwiZGlzcGxheSIsIm5ld1RvRG8iLCJyZXR1cm5FeGlzdGVudFByb2plY3RzQW5kVG9Eb3MiLCJhZGRFeGlzdGVudFByb2plY3RET00iLCJjdXJyZW50UHJvamVjdFRhYiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsb2NhbFN0b3JhZ2VQcm9qZWN0c1JldHVybiIsInRvRG9FbGVtZW50c0xpc3QiLCJ0b0RvT2JqZWN0c0xpc3QiLCJ0b0RvRWxlbWVudHMiLCJ0b0RvT2JqZWN0cyIsInN1Ym1pdFRvRG9CdXR0b24iLCJhZGRUb0RvQnV0dG9uIiwiZXhwYW5kVG9Eb3MiLCJleHBhbmRUb0RvTG9naWMiLCJzcGxpY2UiLCJkZWxldGVOZXdUb0RvTG9naWMiLCJzdG9yZVRvRG9zRE9NIiwidG9Eb1RpdGxlVmFsdWUiLCJ0b0RvRGVzY3JpcHRpb25WYWx1ZSIsInRvRG9EYXRlSW5wdXQiLCJ0b0RvUHJpb3JpdHkiLCJpc1RvRG9DaGVja2VkIiwibnVtYmVyT2ZUb0RvcyIsImNsYXNzTmFtZSIsIm9sZFN1Ym1pdFRvRG8iLCJjYWxsRXhwYW5kVG9EbyIsInVwZGF0ZWROdW1iZXJPZlRvRG9zIiwidG9Eb0RhdGVJbnB1dFZhbHVlIiwidG9Eb1ByaW9yaXR5VmFsdWUiLCJ0b0RvQ2hlY2tlZFZhbHVlIiwidW5kZWZpbmVkIiwiZGVsZXRlVG9EbyIsImN1cnJlbnREZWxldGVCdXR0b24iLCJkZWxldGVPbGRUb0RvTG9naWMiLCJjdXJyZW50VG9Eb0luZGV4IiwiY3VycmVudFRvRG8iLCJ3aWR0aCIsImhlaWdodCIsInBhZGRpbmciLCJib3JkZXIiLCJzaG93RGVzY3JpcHRpb24iLCJkdWVEYXRlSW5wdXQiLCJzaG93RHVlRGF0ZSIsInByaW9yaXR5SW5wdXQiLCJzaG93UHJpb3JpdHlJbnB1dCIsImdhcCIsImFkanVzdFRvRG9QYXJlbnQiLCJleHBhbmRUb0RvIl0sInNvdXJjZVJvb3QiOiIifQ==