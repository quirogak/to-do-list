(()=>{const e=(e,t,o)=>({title:e,description:t,addToDo:o}),t=(e,t,o,c,n)=>({title:e,description:t,dueDate:o,priority:c,checked:n}),o=e=>{const t=document.querySelector(".right-part"),o=document.createElement("div");t.appendChild(o),o.classList.add("project-container");const c=document.createElement("input");o.appendChild(c),c.type="text",c.classList.add("project-title"),c.classList.add("title-input"+e),c.value="New Title";const n=document.createElement("textarea");o.appendChild(n),n.type="text",n.classList.add("project-desc"),n.classList.add("desc-input"+e),n.value="Description...";const i=document.createElement("div");o.appendChild(i),i.classList.add("todos-container");const d=document.createElement("div");o.appendChild(d),d.classList.add("bottom-container");const l=document.createElement("button");d.appendChild(l),l.classList.add("submit-button"),l.classList.add("submit-project-button"+e),l.textContent="Submit Details";const s=document.createElement("button");return d.appendChild(s),s.type="button",s.classList.add("submit-todo"),s.classList.add("submit-todo-button"+e),s.textContent="+",{titleInput:c,descriptionInput:n,submitToDo:s,submitProject:l}},c=(e,t)=>{const o=document.querySelector(".todos-container"),c=document.createElement("div");c.classList.add("todo-container"),c.classList.add("todo-container"+t),o.appendChild(c);const n=document.createElement("div");n.classList.add("basic-elements-container"),c.appendChild(n);const i=document.createElement("button");i.classList.add("delete-button"),i.classList.add("delete-button"+t),i.textContent="x",n.appendChild(i);const d=document.createElement("input");n.appendChild(d),d.value="New to-do",d.type="text",d.classList.add("todo-title"+t),d.classList.add("expand-todo");const l=document.createElement("input");n.appendChild(l),l.type="checkbox",l.classList.add("checkbox"+t),l.classList.add("checkbox"+e);const s=document.createElement("input");c.appendChild(s),s.type="text",s.classList.add("todo-desc"+t),s.classList.add("todo-description"),s.value="Description...";const r=document.createElement("input");c.appendChild(r),r.type="date",r.classList.add("todo-date"+t),r.classList.add("todo-date");const u=document.createElement("select");c.appendChild(u),u.classList.add("todo-priority"+t),u.classList.add("todo-priority");const a=document.createElement("option");a.value="High",a.textContent="High",u.appendChild(a);const p=document.createElement("option");p.value="Medium",p.textContent="Medium",u.appendChild(p);const m=document.createElement("option");return m.value="Low",m.textContent="Low",u.appendChild(m),{toDoTitle:d,descriptionInput:s,dateInput:r,setPriority:u,checkToDo:l}},n=((()=>{const t=[],c=[],i=document.querySelector(".new-project"),d=()=>{const o=t[t.length-1],n=o.titleInput.value,i=o.descriptionInput.value,d=o.submitToDo.value;c.push(e(n,i,d))},l=()=>{document.querySelector(".project-container").remove()},s=()=>{null!=document.querySelector(".project-container")&&l()},r=e=>{s(),(e=>{const t=c[e];o(e),document.querySelector(".title-input"+e).value=t.title,document.querySelector(".desc-input"+e).value=t.description})(e),n.returnToDoDOM(e).genToDoElements(),document.querySelector(".submit-project-button"+e).addEventListener("click",(e=>{(e=>{const t=e.target.classList[1].slice(-1),o=c[t];o.title=document.querySelector(".title-input"+t).value,o.description=document.querySelector(".desc-input"+t).value,((e,t)=>{document.querySelector(".number"+e).textContent=t})(t,o.title),l()})(e)}))},u=e=>{(()=>{const e=document.querySelector(".tab-container"),o=document.createElement("button");o.classList.add("project-tab","number"+parseInt(t.length-1)),e.appendChild(o),o.textContent=c[c.length-1].title,l()})();const o=e.target.classList[1].slice(-1);document.querySelector(".number"+o).addEventListener("click",(()=>{r(o)}))},a=()=>{const e=document.getElementById("search-input"),t=document.getElementsByClassName("project-tab");e.addEventListener("keyup",(e=>{const{value:o}=e.target,c=o.toLowerCase();for(const e of t)e.textContent.toLowerCase().includes(c)?e.style.display="block":e.style.display="none"}))};i.addEventListener("click",(()=>{s(),t.push(o(t.length)),n.newToDo(),t[t.length-1].submitProject.addEventListener("click",d),t[t.length-1].submitProject.addEventListener("click",u),t[t.length-1].submitProject.addEventListener("click",a)}))})(),(()=>{const e=[],o=[];return{newToDo:()=>{const n=[];let l=[];const s=document.querySelector(".submit-button"),r=document.querySelector(".submit-todo");r.addEventListener("click",(e=>{(e=>{const t=e.target.classList[1].slice(-1),o=n.length;n.push(c(t,o)),d.expandToDoLogic(o),(e=>{document.querySelector(".delete-button"+e).addEventListener("click",(()=>{document.querySelector(".todo-container"+e).remove(),n.splice(e,1)}))})(o)})(e)})),s.addEventListener("click",(()=>{for(i=0;i<n.length;i++)toDoTitleValue=n[i].toDoTitle.value,toDoDescriptionValue=n[i].descriptionInput.value,toDoDateInput=n[i].dateInput.value,toDoPriority=n[i].setPriority.value,isToDoChecked=n[i].checkToDo.checked,l.push(t(toDoTitleValue,toDoDescriptionValue,toDoDateInput,toDoPriority,isToDoChecked))})),s.addEventListener("click",(()=>{e.push(n)})),s.addEventListener("click",(()=>{o.push(l)}))},returnToDoDOM:n=>{const l=e[n].length,s=document.querySelector(".submit-button");document.querySelector(".submit-todo").className="old-submit-todo";const r=document.querySelector(".old-submit-todo"),u=()=>{const t=e[n].length;for(i=0;i<t;i++)d.expandToDoLogic(i)};return r.addEventListener("click",(()=>{e[n].push(c(n,i))})),r.addEventListener("click",u),s.addEventListener("click",(()=>{const c=e[n].length;for(i=0;i<c;i++)toDoTitleValue=document.querySelector(".todo-title"+i).value,toDoDescriptionValue=document.querySelector(".todo-desc"+i).value,toDoDateInputValue=document.querySelector(".todo-date"+i).value,toDoPriorityValue=document.querySelector(".todo-priority"+i).value,toDoCheckedValue=document.querySelector(".checkbox"+i).checked,void 0===o[n][i]?o[n].push(t(toDoTitleValue,toDoDescriptionValue,toDoDateInputValue,toDoPriorityValue,toDoCheckedValue)):(o[n][i].title=toDoTitleValue,o[n][i].description=toDoDescriptionValue,o[n][i].dueDate=toDoDateInputValue,o[n][i].priority=toDoPriorityValue,o[n][i].checked=toDoCheckedValue)})),{genToDoElements:()=>{for(i=0;i<l;i++)c(n,i),document.querySelector(".todo-title"+i).value=o[n][i].title,document.querySelector(".todo-desc"+i).value=o[n][i].description,document.querySelector(".todo-date"+i).value=o[n][i].dueDate,document.querySelector(".todo-priority"+i).value=o[n][i].priority,document.querySelector(".checkbox"+i).checked=o[n][i].checked;u(),((t,o)=>{const c=t=>{const c=t.target.classList[1].slice(-1);document.querySelector(".todo-container"+c).remove(),e[o].splice(c,1)};for(i=0;i<t;i++)currentDeleteButton=document.querySelector(".delete-button"+i),currentDeleteButton.addEventListener("click",(e=>{c(e)}))})(l,n)}}}}})()),d={expandToDoLogic:e=>{const t=document.querySelector(".todo-title"+e);t.addEventListener("click",(e=>{(e=>{const t=e.target.classList[0].slice(-1);document.querySelector(".expand-todo"+t),(e=>{const t=document.querySelector(".todo-desc"+e);t.style.width="80%",t.style.height="15px",t.style.padding="2px",t.style.border="1px solid black"})(t),(e=>{const t=document.querySelector(".todo-date"+e);t.style.width="80%",t.style.height="15px",t.style.padding="2px",t.style.border="1px solid black"})(t),(e=>{const t=document.querySelector(".todo-priority"+e);t.style.width="83%",t.style.height="22px",t.style.padding="2px",t.style.border="1px solid black"})(t),(e=>{document.querySelector(".todo-container"+e).style.gap="20px"})(t)})(e)}))}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWdCLEdBQ3pEdUYsRUFBYXRDLE1BQU1pQyxNQUFRLE1BQzNCSyxFQUFhdEMsTUFBTWtDLE9BQVMsT0FDNUJJLEVBQWF0QyxNQUFNbUMsUUFBVSxNQUM3QkcsRUFBYXRDLE1BQU1vQyxPQUFTLG1CQXZCNUJHLENBQVl4RixHQTJCVSxDQUFDQSxJQUV2QixNQUFNeUYsRUFBZ0IxRyxTQUFTQyxjQUFjLGlCQUFpQmdCLEdBQzlEeUYsRUFBY3hDLE1BQU1pQyxNQUFRLE1BQzVCTyxFQUFjeEMsTUFBTWtDLE9BQVMsT0FDN0JNLEVBQWN4QyxNQUFNbUMsUUFBVSxNQUM5QkssRUFBY3hDLE1BQU1vQyxPQUFTLG1CQWhDN0JLLENBQWtCMUYsR0FvQ0csQ0FBQ0EsSUFFQWpCLFNBQVNDLGNBQWMsa0JBQWtCZ0IsR0FFakRpRCxNQUFNMEMsSUFBTSxRQXZDMUJDLENBQWlCNUYsRUFBUyxFQTJDZ0I2RixDQUFXakUsRUFBQyxHQUFFLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdlbk9iamVjdHMgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgY3JlYXRlUHJvamVjdCA9ICh0aXRsZSxkZXNjcmlwdGlvbixhZGRUb0RvKSA9PiB7XG5cbiAgICAgICAgIHRpdGxlID0gdGl0bGVcblxuICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxuXG4gICAgICAgICBhZGRUb0RvID0gYWRkVG9Eb1xuXG5cbiAgICAgICAgcmV0dXJuIHt0aXRsZSxkZXNjcmlwdGlvbixhZGRUb0RvfVxuXG5cbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVUb0RvID0gKHRpdGxlLGRlc2NyaXB0aW9uLGR1ZURhdGUscHJpb3JpdHksY2hlY2tlZCkgPT4ge1xuXG4gICAgICAgIHRpdGxlID0gdGl0bGVcbiAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxuICAgICAgICBkdWVEYXRlID0gZHVlRGF0ZSAgLy9sYXRlciBpIGNhbiBtYWtlIHRoZSBkdWVEYXRlIGFzIGEgZnVuY3Rpb24gdGhhdCBjYWxjdWxhdGVzIHRoZSBkYXlzIGxlZnQuXG4gICAgICAgIHByaW9yaXR5ID0gcHJpb3JpdHlcbiAgICAgICAgY2hlY2tlZCA9IGNoZWNrZWRcblxuICAgICAgICByZXR1cm4ge3RpdGxlLGRlc2NyaXB0aW9uLGR1ZURhdGUscHJpb3JpdHksY2hlY2tlZH1cblxuICAgIH1cblxuICAgIHJldHVybiB7Y3JlYXRlUHJvamVjdCxjcmVhdGVUb0RvfVxuXG59KSgpO1xuXG5cbmNvbnN0IGdlbkRvbUVsZW1lbnRzID0gKCgpID0+IHtcblxuICAgIGNvbnN0IGdlblByb2plY3RzRE9NID0gKGkpID0+IHtcblxuICAgICAgICBjb25zdCByaWdodFBhcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJpZ2h0LXBhcnRcIilcblxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICByaWdodFBhcnQuYXBwZW5kQ2hpbGQobmV3UHJvamVjdENvbnRhaW5lcilcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1jb250YWluZXJcIilcblxuXG4gICAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZUlucHV0KVxuICAgICAgICB0aXRsZUlucHV0LnR5cGUgPSBcInRleHRcIlxuICAgICAgICB0aXRsZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpXG4gICAgICAgIHRpdGxlSW5wdXQuY2xhc3NMaXN0LmFkZChcInRpdGxlLWlucHV0XCIraSlcbiAgICAgICAgdGl0bGVJbnB1dC52YWx1ZSA9IFwiTmV3IFRpdGxlXCJcblxuIFxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpXG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25JbnB1dClcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC50eXBlID0gXCJ0ZXh0XCJcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1kZXNjXCIpXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQuY2xhc3NMaXN0LmFkZChcImRlc2MtaW5wdXRcIitpKVxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gXCJEZXNjcmlwdGlvbi4uLlwiXG5cbiAgICAgICBcbiAgICAgICAgY29uc3QgdG9Eb3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQodG9Eb3NDb250YWluZXIpXG4gICAgICAgIHRvRG9zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0b2Rvcy1jb250YWluZXJcIilcblxuICAgICAgICBjb25zdCBib3R0b21Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoYm90dG9tQ29udGFpbmVyKVxuICAgICAgICBib3R0b21Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImJvdHRvbS1jb250YWluZXJcIilcblxuIFxuICAgICAgICBjb25zdCBzdWJtaXRQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICBib3R0b21Db250YWluZXIuYXBwZW5kQ2hpbGQoc3VibWl0UHJvamVjdClcbiAgICAgICAgc3VibWl0UHJvamVjdC5jbGFzc0xpc3QuYWRkKFwic3VibWl0LWJ1dHRvblwiKVxuICAgICAgICBzdWJtaXRQcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJzdWJtaXQtcHJvamVjdC1idXR0b25cIitpKVxuICAgICAgICBzdWJtaXRQcm9qZWN0LnRleHRDb250ZW50ID0gXCJTdWJtaXQgRGV0YWlsc1wiXG5cblxuICAgICAgICBjb25zdCBzdWJtaXRUb0RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICBib3R0b21Db250YWluZXIuYXBwZW5kQ2hpbGQoc3VibWl0VG9EbylcbiAgICAgICAgc3VibWl0VG9Eby50eXBlID1cImJ1dHRvblwiXG4gICAgICAgIHN1Ym1pdFRvRG8uY2xhc3NMaXN0LmFkZChcInN1Ym1pdC10b2RvXCIpXG4gICAgICAgIHN1Ym1pdFRvRG8uY2xhc3NMaXN0LmFkZChcInN1Ym1pdC10b2RvLWJ1dHRvblwiK2kpXG4gICAgICAgIHN1Ym1pdFRvRG8udGV4dENvbnRlbnQgPSBcIitcIlxuXG5cbiAgICAgICAgcmV0dXJuIHt0aXRsZUlucHV0LGRlc2NyaXB0aW9uSW5wdXQsc3VibWl0VG9EbyxzdWJtaXRQcm9qZWN0fVxuXG4gICB9IFxuXG5cbiAgIGNvbnN0IGdlblRvRG9zRE9NID0gKHByb2plY3RJbmRleCx0b0RvSW5kZXgpID0+e1xuXG4gICAgICAgIGNvbnN0IHRvRG9zQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2Rvcy1jb250YWluZXJcIilcblxuICAgICAgICBjb25zdCB0b0RvQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICB0b0RvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0b2RvLWNvbnRhaW5lclwiKVxuICAgICAgICB0b0RvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0b2RvLWNvbnRhaW5lclwiK3RvRG9JbmRleClcbiAgICAgICAgdG9Eb3NDb250YWluZXIuYXBwZW5kQ2hpbGQodG9Eb0NvbnRhaW5lcilcblxuICAgICAgICBjb25zdCBiYXNpY0VsZW1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICBiYXNpY0VsZW1lbnRzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJiYXNpYy1lbGVtZW50cy1jb250YWluZXJcIilcbiAgICAgICAgdG9Eb0NvbnRhaW5lci5hcHBlbmRDaGlsZChiYXNpY0VsZW1lbnRzQ29udGFpbmVyKVxuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtYnV0dG9uXCIpXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWJ1dHRvblwiK3RvRG9JbmRleClcbiAgICAgICAgZGVsZXRlQnV0dG9uLnRleHRDb250ZW50ID0gXCJ4XCJcbiAgICAgICAgYmFzaWNFbGVtZW50c0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pXG4gICAgICAgIFxuXG4gICAgICAgIGNvbnN0IHRvRG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICBiYXNpY0VsZW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvRG9UaXRsZSlcbiAgICAgICAgdG9Eb1RpdGxlLnZhbHVlID0gXCJOZXcgdG8tZG9cIlxuICAgICAgICB0b0RvVGl0bGUudHlwZSA9IFwidGV4dFwiXG4gICAgICAgIHRvRG9UaXRsZS5jbGFzc0xpc3QuYWRkKFwidG9kby10aXRsZVwiK3RvRG9JbmRleClcbiAgICAgICAgdG9Eb1RpdGxlLmNsYXNzTGlzdC5hZGQoXCJleHBhbmQtdG9kb1wiKVxuICAgICAgICBcblxuICAgICAgICBjb25zdCBjaGVja1RvRG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgYmFzaWNFbGVtZW50c0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja1RvRG8pXG4gICAgICAgIGNoZWNrVG9Eby50eXBlID0gXCJjaGVja2JveFwiXG4gICAgICAgIGNoZWNrVG9Eby5jbGFzc0xpc3QuYWRkKFwiY2hlY2tib3hcIit0b0RvSW5kZXgpXG4gICAgICAgIGNoZWNrVG9Eby5jbGFzc0xpc3QuYWRkKFwiY2hlY2tib3hcIitwcm9qZWN0SW5kZXgpXG5cbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICB0b0RvQ29udGFpbmVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uSW5wdXQpXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQudHlwZSA9IFwidGV4dFwiXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQuY2xhc3NMaXN0LmFkZChcInRvZG8tZGVzY1wiK3RvRG9JbmRleClcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC5jbGFzc0xpc3QuYWRkKFwidG9kby1kZXNjcmlwdGlvblwiKVxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gXCJEZXNjcmlwdGlvbi4uLlwiXG4gICAgICAgIFxuXG4gICAgICAgIGNvbnN0IGRhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICB0b0RvQ29udGFpbmVyLmFwcGVuZENoaWxkKGRhdGVJbnB1dClcbiAgICAgICAgZGF0ZUlucHV0LnR5cGUgPSBcImRhdGVcIlxuICAgICAgICBkYXRlSW5wdXQuY2xhc3NMaXN0LmFkZChcInRvZG8tZGF0ZVwiK3RvRG9JbmRleClcbiAgICAgICAgZGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0b2RvLWRhdGVcIilcblxuXG4gICAgICAgIGNvbnN0IHNldFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKVxuICAgICAgICB0b0RvQ29udGFpbmVyLmFwcGVuZENoaWxkKHNldFByaW9yaXR5KVxuICAgICAgICBzZXRQcmlvcml0eS5jbGFzc0xpc3QuYWRkKFwidG9kby1wcmlvcml0eVwiK3RvRG9JbmRleClcbiAgICAgICAgc2V0UHJpb3JpdHkuY2xhc3NMaXN0LmFkZChcInRvZG8tcHJpb3JpdHlcIilcblxuICAgICAgICBjb25zdCBoaWdoUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpXG4gICAgICAgIGhpZ2hQcmlvcml0eS52YWx1ZSA9IFwiSGlnaFwiXG4gICAgICAgIGhpZ2hQcmlvcml0eS50ZXh0Q29udGVudCA9IFwiSGlnaFwiXG4gICAgICAgIHNldFByaW9yaXR5LmFwcGVuZENoaWxkKGhpZ2hQcmlvcml0eSlcblxuICAgICAgICBjb25zdCBNZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgTWVkaXVtUHJpb3JpdHkudmFsdWUgPSBcIk1lZGl1bVwiXG4gICAgICAgIE1lZGl1bVByaW9yaXR5LnRleHRDb250ZW50ID0gXCJNZWRpdW1cIlxuICAgICAgICBzZXRQcmlvcml0eS5hcHBlbmRDaGlsZChNZWRpdW1Qcmlvcml0eSlcblxuICAgICAgICBjb25zdCBMb3dQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgTG93UHJpb3JpdHkudmFsdWUgPSBcIkxvd1wiXG4gICAgICAgIExvd1ByaW9yaXR5LnRleHRDb250ZW50ID0gXCJMb3dcIlxuICAgICAgICBzZXRQcmlvcml0eS5hcHBlbmRDaGlsZChMb3dQcmlvcml0eSlcblxuXG5cbiAgICAgICAgcmV0dXJuIHt0b0RvVGl0bGUsZGVzY3JpcHRpb25JbnB1dCxkYXRlSW5wdXQsc2V0UHJpb3JpdHksY2hlY2tUb0RvfVxuICAgfVxuXG4gICBcblxuICAgcmV0dXJuIHtnZW5Qcm9qZWN0c0RPTSxnZW5Ub0Rvc0RPTX1cblxuICAgXG59KSgpO1xuXG4gICBcblxuICAgXG5cblxuXG5jb25zdCBwcm9qZWN0c0xvZ2ljID0gKCgpID0+IHtcblxuICAvL0dsb2JhbCBjb25zdGFudHNcblxuICAgY29uc3QgcHJvamVjdEVsZW1lbnRzID0gW11cblxuICAgY29uc3QgcHJvamVjdE9iamVjdExpc3QgPSBbXVxuXG4gICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy1wcm9qZWN0XCIpXG5cblxuXG4gICAvL0Z1bmN0aW9uc1xuXG4gICBjb25zdCBuZXdQcm9qZWN0RE9NID0gKCkgPT4ge1xuXG4gICAgcHJvamVjdEVsZW1lbnRzLnB1c2goZ2VuRG9tRWxlbWVudHMuZ2VuUHJvamVjdHNET00ocHJvamVjdEVsZW1lbnRzLmxlbmd0aCkpXG5cbiAgIH1cblxuXG4gICBjb25zdCBuZXdQcm9qZWN0T2JqZWN0ID0gKCkgPT4ge1xuXG4gICAgY29uc3QgY3VycmVudFByb2plY3QgPSBwcm9qZWN0RWxlbWVudHNbcHJvamVjdEVsZW1lbnRzLmxlbmd0aC0xXVxuXG4gICAgY29uc3QgdGl0bGUgPSBjdXJyZW50UHJvamVjdC50aXRsZUlucHV0LnZhbHVlXG4gICAgICAgICAgICBcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGN1cnJlbnRQcm9qZWN0LmRlc2NyaXB0aW9uSW5wdXQudmFsdWVcbiAgICBcbiAgICBjb25zdCBhZGRUb0RvID0gY3VycmVudFByb2plY3Quc3VibWl0VG9Eby52YWx1ZVxuXG5cbiAgICBwcm9qZWN0T2JqZWN0TGlzdC5wdXNoKGdlbk9iamVjdHMuY3JlYXRlUHJvamVjdCh0aXRsZSwgZGVzY3JpcHRpb24sIGFkZFRvRG8pKVxuXG4gICB9XG4gICBcblxuICAgY29uc3QgcmVtb3ZlQ29udGFpbmVyID0gKCkgPT4ge1xuXG4gICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1jb250YWluZXJcIilcbiAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmUoKVxuXG4gICAgfVxuXG4gICBjb25zdCBjaGVja0NvbnRhaW5lciA9ICgpID0+IHtcbiAgICBcbiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWNvbnRhaW5lclwiKSAhPSBudWxsKXtcbiAgICAgICAgICAgIHJlbW92ZUNvbnRhaW5lcigpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIFxuXG5cbiAgIGNvbnN0IGFkZFByb2plY3RET00gPSAoKSA9PiB7XG5cbiAgICBjb25zdCB0YWJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYi1jb250YWluZXJcIilcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuXG4gICAgbmV3UHJvamVjdC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC10YWJcIiwgXCJudW1iZXJcIitwYXJzZUludChwcm9qZWN0RWxlbWVudHMubGVuZ3RoLTEpKVxuICAgIHRhYkNvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdQcm9qZWN0KVxuICAgIFxuICAgIC8vQXNzaWduIGEgbmFtZSB0byB0aGUgbGVmdC1wYXJ0IHRhYiBcbiAgICBuZXdQcm9qZWN0LnRleHRDb250ZW50ID0gcHJvamVjdE9iamVjdExpc3RbcHJvamVjdE9iamVjdExpc3QubGVuZ3RoLTFdLnRpdGxlXG5cbiAgICAvL3doZW4gdGhlIHVzZXIgY2xpY2tzIHN1Ym1pdCwgdGhlIFByb2plY3QgY29udGFpbmVyIGdldHMgcmVtb3ZlZC5cbiAgICByZW1vdmVDb250YWluZXIoKVxuXG5cbiAgIH1cblxuICAgY29uc3QgcmV0dXJuUHJvamVjdHNET00gPSAoY3VycmVudFByb2plY3RJbmRleCkgPT4ge1xuXG4gICAgY29uc3QgY3VycmVudFByb2plY3QgPSBwcm9qZWN0T2JqZWN0TGlzdFtjdXJyZW50UHJvamVjdEluZGV4XVxuICAgIGdlbkRvbUVsZW1lbnRzLmdlblByb2plY3RzRE9NKGN1cnJlbnRQcm9qZWN0SW5kZXgpXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWlucHV0XCIrY3VycmVudFByb2plY3RJbmRleCkudmFsdWUgPSBjdXJyZW50UHJvamVjdC50aXRsZVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVzYy1pbnB1dFwiK2N1cnJlbnRQcm9qZWN0SW5kZXgpLnZhbHVlID0gY3VycmVudFByb2plY3QuZGVzY3JpcHRpb25cblxufVxuXG4gICBjb25zdCB1cGRhdGVQcm9qZWN0T2JqZWN0ID0gKGUpID0+IHtcblxuICAgIGNvbnN0IGluZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzFdXG4gICAgY29uc3QgY3VycmVudFByb2plY3RJbmRleCA9IGluZGV4LnNsaWNlKC0xKVxuICAgIGNvbnN0IGN1cnJlbnRPYmplY3QgPSBwcm9qZWN0T2JqZWN0TGlzdFtjdXJyZW50UHJvamVjdEluZGV4XVxuXG4gICAgY3VycmVudE9iamVjdC50aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGUtaW5wdXRcIitjdXJyZW50UHJvamVjdEluZGV4KS52YWx1ZVxuICAgIGN1cnJlbnRPYmplY3QuZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc2MtaW5wdXRcIitjdXJyZW50UHJvamVjdEluZGV4KS52YWx1ZVxuXG4gICAgdXBkYXRlVGFiKGN1cnJlbnRQcm9qZWN0SW5kZXgsY3VycmVudE9iamVjdC50aXRsZSlcbiAgICByZW1vdmVDb250YWluZXIoKVxuXG59XG5cbiAgIGNvbnN0IHVwZGF0ZVRhYiA9IChjdXJyZW50UHJvamVjdEluZGV4LG5ld1ZhbHVlKSA9PiB7XG5cbiAgICBjb25zdCBjdXJyZW50UHJvamVjdFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubnVtYmVyXCIrY3VycmVudFByb2plY3RJbmRleClcbiAgICBjdXJyZW50UHJvamVjdFRhYi50ZXh0Q29udGVudCA9IG5ld1ZhbHVlXG5cbn1cblxuICAgY29uc3QgcmV0dXJuUHJvamVjdEFuZFRvRG9zID0gKGN1cnJlbnRQcm9qZWN0SW5kZXgpID0+IHtcblxuICAgIGNoZWNrQ29udGFpbmVyKClcbiAgICByZXR1cm5Qcm9qZWN0c0RPTShjdXJyZW50UHJvamVjdEluZGV4KVxuICAgIHRvRG9zTG9naWMucmV0dXJuVG9Eb0RPTShjdXJyZW50UHJvamVjdEluZGV4KS5nZW5Ub0RvRWxlbWVudHMoKVxuICAgIGNvbnN0IGN1cnJlbnRTdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1wcm9qZWN0LWJ1dHRvblwiK2N1cnJlbnRQcm9qZWN0SW5kZXgpXG4gICAgXG4gICAgY3VycmVudFN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT4ge3VwZGF0ZVByb2plY3RPYmplY3QoZSl9KVxuXG59XG5cbiAgIGNvbnN0IGNhbGxSZXR1cm5UYWIgPSAoZSkgPT4ge1xuXG4gICAgYWRkUHJvamVjdERPTSgpXG4gICAgY29uc3QgaW5kZXggPSBlLnRhcmdldC5jbGFzc0xpc3RbMV1cbiAgICBjb25zdCBjdXJyZW50UHJvamVjdEluZGV4ID0gaW5kZXguc2xpY2UoLTEpXG4gICAgY29uc3QgY3VycmVudFByb2plY3RUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlclwiK2N1cnJlbnRQcm9qZWN0SW5kZXgpXG5cbiAgICBjdXJyZW50UHJvamVjdFRhYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge3JldHVyblByb2plY3RBbmRUb0RvcyhjdXJyZW50UHJvamVjdEluZGV4KX0pXG5cbiB9XG5cbiBjb25zdCBzZWFyY2hMb2dpYyA9ICgpID0+IHtcblxuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtaW5wdXRcIilcblxuICAgIGNvbnN0IHByb2plY3ROYW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwcm9qZWN0LXRhYlwiKVxuXG4gICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChlKSA9PiB7XG5cbiAgICBjb25zdCB7dmFsdWV9ID0gZS50YXJnZXRcblxuICAgIGNvbnN0IGZpbmFsVmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpXG5cblxuICAgIGZvciAoY29uc3QgZWxlbWVudE5hbWUgb2YgcHJvamVjdE5hbWVzKXtcblxuICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnROYW1lLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKClcblxuICAgICAgICBpZiAobmFtZS5pbmNsdWRlcyhmaW5hbFZhbHVlKSl7XG4gICAgICAgICAgICBlbGVtZW50TmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50TmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIH0pXG5cbiAgIH1cblxuICAgY29uc3QgbmV3UHJvamVjdCA9ICgpID0+IHtcblxuICAgIGNoZWNrQ29udGFpbmVyKClcbiAgICBuZXdQcm9qZWN0RE9NKClcbiAgICB0b0Rvc0xvZ2ljLm5ld1RvRG8oKVxuXG5cbiAgICBwcm9qZWN0RWxlbWVudHNbcHJvamVjdEVsZW1lbnRzLmxlbmd0aC0xXS5zdWJtaXRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBuZXdQcm9qZWN0T2JqZWN0KVxuXG4gICAgcHJvamVjdEVsZW1lbnRzW3Byb2plY3RFbGVtZW50cy5sZW5ndGgtMV0uc3VibWl0UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2FsbFJldHVyblRhYilcblxuICAgIHByb2plY3RFbGVtZW50c1twcm9qZWN0RWxlbWVudHMubGVuZ3RoLTFdLnN1Ym1pdFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsc2VhcmNoTG9naWMpXG4gfVxuXG5cblxuICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG5ld1Byb2plY3QpXG4gXG5cbiAgXG4gICBcbn0pKCk7XG5cblxuXG5cbmNvbnN0IHRvRG9zTG9naWMgPSAoKCkgPT4ge1xuXG4gICAgXG4gY29uc3QgdG9Eb0VsZW1lbnRzTGlzdCA9IFtdXG4gY29uc3QgdG9Eb09iamVjdHNMaXN0ID0gW11cbiAgICBcbiAgIGNvbnN0IG5ld1RvRG8gPSAoKSA9PiB7XG5cbiAgICBjb25zdCB0b0RvRWxlbWVudHMgPSBbXVxuICAgIGxldCB0b0RvT2JqZWN0cyA9IFtdXG5cbiAgICBjb25zdCBzdWJtaXRUb0RvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtYnV0dG9uXCIpXG4gICAgY29uc3QgYWRkVG9Eb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LXRvZG9cIilcblxuXG4gICAgY29uc3Qgc3RvcmVUb0Rvc0RPTSA9IChlKSAgPT4ge1xuICAgICAgICBjb25zdCBpbmRleCA9IGUudGFyZ2V0LmNsYXNzTGlzdFsxXVxuICAgICAgICBjb25zdCBjdXJyZW50UHJvamVjdEluZGV4ID0gaW5kZXguc2xpY2UoLTEpXG4gICAgICAgIGNvbnN0IHRvRG9JbmRleCA9IHRvRG9FbGVtZW50cy5sZW5ndGhcblxuICAgICAgICB0b0RvRWxlbWVudHMucHVzaChnZW5Eb21FbGVtZW50cy5nZW5Ub0Rvc0RPTShjdXJyZW50UHJvamVjdEluZGV4LHRvRG9JbmRleCkpXG4gICAgICAgIGV4cGFuZFRvRG9zLmV4cGFuZFRvRG9Mb2dpYyh0b0RvSW5kZXgpXG4gICAgICAgIGRlbGV0ZU5ld1RvRG9Mb2dpYyh0b0RvSW5kZXgsY3VycmVudFByb2plY3RJbmRleClcbiAgICB9IFxuXG5cbiAgICBjb25zdCBwdXNoRWxlbWVudHNMaXN0ID0gKCkgPT4ge1xuICAgICAgICB0b0RvRWxlbWVudHNMaXN0LnB1c2godG9Eb0VsZW1lbnRzKVxuICAgIH1cblxuICAgIGNvbnN0IHB1c2hPYmplY3RzTGlzdCA9ICgpID0+IHtcbiAgICAgICAgdG9Eb09iamVjdHNMaXN0LnB1c2godG9Eb09iamVjdHMpXG4gICAgfVxuICAgIFxuXG4gICAgY29uc3QgbmV3VG9Eb09iamVjdCA9ICgpID0+IHtcblxuICAgICAgICBmb3IoaSA9IDA7IGkgPCB0b0RvRWxlbWVudHMubGVuZ3RoIDsgaSsrKXtcblxuICAgICAgICAvL2lmIHdlIHdhbnQgdG8gYWRkIG5ldyB0by1kbyBkZXRhaWxzIGFuZCBzYXZlIHRoZW0sIHdlIGhhdmUgdG8gYWRkIHRoZW0gZnJvbSBoZXJlLlxuXG4gICAgICAgIHRvRG9UaXRsZVZhbHVlID0gIHRvRG9FbGVtZW50c1tpXS50b0RvVGl0bGUudmFsdWVcbiAgICAgICAgdG9Eb0Rlc2NyaXB0aW9uVmFsdWUgPSB0b0RvRWxlbWVudHNbaV0uZGVzY3JpcHRpb25JbnB1dC52YWx1ZVxuICAgICAgICB0b0RvRGF0ZUlucHV0ID0gdG9Eb0VsZW1lbnRzW2ldLmRhdGVJbnB1dC52YWx1ZVxuICAgICAgICB0b0RvUHJpb3JpdHkgPSB0b0RvRWxlbWVudHNbaV0uc2V0UHJpb3JpdHkudmFsdWVcbiAgICAgICAgaXNUb0RvQ2hlY2tlZCA9IHRvRG9FbGVtZW50c1tpXS5jaGVja1RvRG8uY2hlY2tlZFxuXG4gICAgICAgIHRvRG9PYmplY3RzLnB1c2goZ2VuT2JqZWN0cy5jcmVhdGVUb0RvKHRvRG9UaXRsZVZhbHVlLHRvRG9EZXNjcmlwdGlvblZhbHVlLHRvRG9EYXRlSW5wdXQsdG9Eb1ByaW9yaXR5LGlzVG9Eb0NoZWNrZWQpKVxuXG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZU5ld1RvRG9Mb2dpYyA9ICh0b0RvSW5kZXgpID0+IHtcblxuICAgICAgICBjb25zdCBjdXJyZW50RGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZWxldGUtYnV0dG9uXCIrdG9Eb0luZGV4KVxuICAgIFxuICAgICAgICBjb25zdCBkZWxldGVUb0RvID0gKCkgPT4ge1xuICAgIFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tY29udGFpbmVyXCIrdG9Eb0luZGV4KS5yZW1vdmUoKVxuICAgICAgICB0b0RvRWxlbWVudHMuc3BsaWNlKHRvRG9JbmRleCwxKVxuXG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgY3VycmVudERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixkZWxldGVUb0RvKVxuICAgICAgIFxuICAgIH1cblxuICAgIGFkZFRvRG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7c3RvcmVUb0Rvc0RPTShlKX0pXG4gICAgc3VibWl0VG9Eb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixuZXdUb0RvT2JqZWN0KVxuICAgIHN1Ym1pdFRvRG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscHVzaEVsZW1lbnRzTGlzdClcbiAgICBzdWJtaXRUb0RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHB1c2hPYmplY3RzTGlzdClcbiAgICAgICAgXG4gfVxuXG4gXG4gY29uc3QgZGVsZXRlT2xkVG9Eb0xvZ2ljID0gKG51bWJlck9mVG9Eb3MscHJvamVjdEluZGV4KSA9PiB7XG5cbiAgICBjb25zdCBkZWxldGVUb0RvID0gKGUpID0+IHtcblxuICAgICAgICBjb25zdCBpbmRleCA9IGUudGFyZ2V0LmNsYXNzTGlzdFsxXVxuICAgICAgICBjb25zdCB0b0RvSW5kZXggPSBpbmRleC5zbGljZSgtMSlcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tY29udGFpbmVyXCIrdG9Eb0luZGV4KS5yZW1vdmUoKVxuICAgICAgICB0b0RvRWxlbWVudHNMaXN0W3Byb2plY3RJbmRleF0uc3BsaWNlKHRvRG9JbmRleCwxKVxuXG4gICAgfVxuXG4gICAgZm9yKGkgPSAwOyBpIDwgbnVtYmVyT2ZUb0RvczsgaSsrKXtcbiAgICAgICAgY3VycmVudERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLWJ1dHRvblwiK2kpXG4gICAgICAgIGN1cnJlbnREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGUpID0+IHtkZWxldGVUb0RvKGUpfSlcbiAgICB9XG5cbiB9XG5cbiAgICAgXG4gY29uc3QgcmV0dXJuVG9Eb0RPTSA9IChwcm9qZWN0SW5kZXgpID0+IHtcblxuICAgICAgICBcbiAgICAgICAgY29uc3QgbnVtYmVyT2ZUb0RvcyA9IHRvRG9FbGVtZW50c0xpc3RbcHJvamVjdEluZGV4XS5sZW5ndGhcbiAgICAgICAgY29uc3Qgc3VibWl0VG9Eb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LWJ1dHRvblwiKVxuICAgICAgICBjb25zdCBhZGRUb0RvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtdG9kb1wiKVxuXG4gICAgICAgIGFkZFRvRG9CdXR0b24uY2xhc3NOYW1lID0gXCJvbGQtc3VibWl0LXRvZG9cIlxuICAgICAgICBjb25zdCBvbGRTdWJtaXRUb0RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbGQtc3VibWl0LXRvZG9cIilcbiAgICAgICAgXG4gICAgICAgIFxuXG4gICAgY29uc3QgZ2VuVG9Eb0VsZW1lbnRzID0gKCkgPT4ge1xuXG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBudW1iZXJPZlRvRG9zOyBpKyspe1xuXG4gICAgICAgICAgICAgICAgZ2VuRG9tRWxlbWVudHMuZ2VuVG9Eb3NET00ocHJvamVjdEluZGV4LGkpXG5cbiAgICAgICAgICAgICAgICAvL0lmIHdlIHdhbnQgdG8gYWRkIGFueSBvdGhlciB2YWx1ZSBhYm91dCBvdXIgdG8tZG9zIGluIG9yZGVyIHRvIHJldHVybiBpdCwgd2UgY2FuIGFkZCBpdCBoZXJlLCBidXQgZmlyc3QsIHdlIHNob3VsZCBhZGQgdGhlbSBpbnNpZGUgb2Ygb3VyIG5ld1RvRG9PYmplY3QgRnVuY3Rpb24uXG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tdGl0bGVcIitpKS52YWx1ZSA9IHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdW2ldLnRpdGxlIFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1kZXNjXCIraSkudmFsdWUgPSB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS5kZXNjcmlwdGlvbiAgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWRhdGVcIitpKS52YWx1ZSA9IHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdW2ldLmR1ZURhdGVcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tcHJpb3JpdHlcIitpKS52YWx1ZSA9IHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdW2ldLnByaW9yaXR5XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2JveFwiK2kpLmNoZWNrZWQgPSB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS5jaGVja2VkXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgY2FsbEV4cGFuZFRvRG8oKVxuICAgICAgICAgICAgZGVsZXRlT2xkVG9Eb0xvZ2ljKG51bWJlck9mVG9Eb3MscHJvamVjdEluZGV4KVxuICAgICAgICB9XG5cbiAgICBjb25zdCBuZXdUb0RvT2JqZWN0T2xkUHJvamVjdCA9ICgpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZE51bWJlck9mVG9Eb3MgPSB0b0RvRWxlbWVudHNMaXN0W3Byb2plY3RJbmRleF0ubGVuZ3RoXG5cbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IHVwZGF0ZWROdW1iZXJPZlRvRG9zIDsgaSsrKXtcblxuICAgICAgICAgICAgICAgICAgdG9Eb1RpdGxlVmFsdWUgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLXRpdGxlXCIraSkudmFsdWVcbiAgICAgICAgICAgICAgICAgIHRvRG9EZXNjcmlwdGlvblZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWRlc2NcIitpKS52YWx1ZVxuICAgICAgICAgICAgICAgICAgdG9Eb0RhdGVJbnB1dFZhbHVlID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1kYXRlXCIraSkudmFsdWVcbiAgICAgICAgICAgICAgICAgIHRvRG9Qcmlvcml0eVZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLXByaW9yaXR5XCIraSkudmFsdWVcbiAgICAgICAgICAgICAgICAgIHRvRG9DaGVja2VkVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrYm94XCIraSkuY2hlY2tlZFxuXG5cbiAgICAgICAgICAgICAgICAgIC8vaWYgdGhlIG9iamVjdCBkb2Vzbid0IGV4aXN0cywgcHVzaCB0aGUgbmV3IG9iamVjdCwgaWYgaXQgYWxyZWFkeSBleGlzdHMsIHRoZW4gY2hhbmdlIHRoZSBkZXRhaWxzIC5cblxuICAgICAgICAgICAgICAgICAgaWYoIHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdW2ldID09PSB1bmRlZmluZWQgICl7XG5cbiAgICAgICAgICAgICAgICAgICAgdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF0ucHVzaChnZW5PYmplY3RzLmNyZWF0ZVRvRG8odG9Eb1RpdGxlVmFsdWUsdG9Eb0Rlc2NyaXB0aW9uVmFsdWUsdG9Eb0RhdGVJbnB1dFZhbHVlLHRvRG9Qcmlvcml0eVZhbHVlLHRvRG9DaGVja2VkVmFsdWUpKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdW2ldLnRpdGxlID0gdG9Eb1RpdGxlVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0uZGVzY3JpcHRpb24gPSB0b0RvRGVzY3JpcHRpb25WYWx1ZVxuICAgICAgICAgICAgICAgICAgICB0b0RvT2JqZWN0c0xpc3RbcHJvamVjdEluZGV4XVtpXS5kdWVEYXRlID0gdG9Eb0RhdGVJbnB1dFZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHRvRG9PYmplY3RzTGlzdFtwcm9qZWN0SW5kZXhdW2ldLnByaW9yaXR5ID0gdG9Eb1ByaW9yaXR5VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdG9Eb09iamVjdHNMaXN0W3Byb2plY3RJbmRleF1baV0uY2hlY2tlZCA9IHRvRG9DaGVja2VkVmFsdWVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgY29uc3QgbmV3VG9Eb0RPTU9sZFByb2plY3QgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICB0b0RvRWxlbWVudHNMaXN0W3Byb2plY3RJbmRleF0ucHVzaChnZW5Eb21FbGVtZW50cy5nZW5Ub0Rvc0RPTShwcm9qZWN0SW5kZXgsaSkpXG5cbiAgICAgICAgfVxuXG5cbiAgICBjb25zdCBjYWxsRXhwYW5kVG9EbyA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB1cGRhdGVkTnVtYmVyT2ZUb0RvcyA9IHRvRG9FbGVtZW50c0xpc3RbcHJvamVjdEluZGV4XS5sZW5ndGhcblxuICAgICAgICBmb3IoaSA9IDA7IGkgPCB1cGRhdGVkTnVtYmVyT2ZUb0RvczsgaSsrKXtleHBhbmRUb0Rvcy5leHBhbmRUb0RvTG9naWMoaSl9XG4gICAgfVxuXG4gICAgICAgIG9sZFN1Ym1pdFRvRG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsbmV3VG9Eb0RPTU9sZFByb2plY3QpXG4gICAgICAgIG9sZFN1Ym1pdFRvRG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsY2FsbEV4cGFuZFRvRG8pXG4gICAgICAgIHN1Ym1pdFRvRG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsbmV3VG9Eb09iamVjdE9sZFByb2plY3QpXG4gICAgICAgIFxuXG4gICAgICAgIHJldHVybiB7Z2VuVG9Eb0VsZW1lbnRzfVxuXG4gICAgfVxuXG5cbiAgICByZXR1cm4ge25ld1RvRG8scmV0dXJuVG9Eb0RPTX1cbiAgIFxufSkoKTtcblxuXG5cbmNvbnN0IGV4cGFuZFRvRG9zID0gKCgpID0+IHtcblxuXG4gICAgLy9jbGVhbmVkIGNvZGUgYW5kIHN0YXJ0ZWQgdGhlIGJhc2ljIHN0cnVjdHVyZSBvZiBleHBhbmQgdG8tZG8gbG9naWNcbiAgXG4gICBcbiBjb25zdCBleHBhbmRUb0RvTG9naWMgPSAoY3VycmVudFRvRG9JbmRleCkgPT4ge1xuXG4gICAgXG4gICAgY29uc3QgY3VycmVudFRvRG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tdGl0bGVcIitjdXJyZW50VG9Eb0luZGV4KVxuXG4gICAgY29uc3QgZXhwYW5kVG9EbyA9IChlKSA9PiB7XG5cbiAgICAgICAgY29uc3QgdG9Eb0luZGV4ID0gZS50YXJnZXQuY2xhc3NMaXN0WzBdLnNsaWNlKC0xKVxuICAgICAgICBjb25zdCBjdXJyZW50VG9Eb0RldGFpbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV4cGFuZC10b2RvXCIrdG9Eb0luZGV4KVxuXG4gICAgICAgIHNob3dEZXNjcmlwdGlvbih0b0RvSW5kZXgpXG4gICAgICAgIHNob3dEdWVEYXRlKHRvRG9JbmRleClcbiAgICAgICAgc2hvd1ByaW9yaXR5SW5wdXQodG9Eb0luZGV4KVxuICAgICAgICBhZGp1c3RUb0RvUGFyZW50KHRvRG9JbmRleClcblxuICAgICAgICBcbiAgICB9XG5cbiAgICBjb25zdCBzaG93RGVzY3JpcHRpb24gPSAodG9Eb0luZGV4KSA9PiB7XG5cbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1kZXNjXCIrdG9Eb0luZGV4KVxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnN0eWxlLndpZHRoID0gXCI4MCVcIlxuICAgICAgICBkZXNjcmlwdGlvbklucHV0LnN0eWxlLmhlaWdodCA9IFwiMTVweFwiXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQuc3R5bGUucGFkZGluZyA9IFwiMnB4XCJcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG5cbiAgICB9XG5cbiAgICBjb25zdCBzaG93RHVlRGF0ZSA9ICh0b0RvSW5kZXgpID0+e1xuXG4gICAgICAgIGNvbnN0IGR1ZURhdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1kYXRlXCIrdG9Eb0luZGV4KVxuICAgICAgICBkdWVEYXRlSW5wdXQuc3R5bGUud2lkdGggPSBcIjgwJVwiXG4gICAgICAgIGR1ZURhdGVJbnB1dC5zdHlsZS5oZWlnaHQgPSBcIjE1cHhcIlxuICAgICAgICBkdWVEYXRlSW5wdXQuc3R5bGUucGFkZGluZyA9IFwiMnB4XCJcbiAgICAgICAgZHVlRGF0ZUlucHV0LnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcblxuICAgIH1cblxuICAgIGNvbnN0IHNob3dQcmlvcml0eUlucHV0ID0gKHRvRG9JbmRleCkgPT57XG5cbiAgICAgICAgY29uc3QgcHJpb3JpdHlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1wcmlvcml0eVwiK3RvRG9JbmRleClcbiAgICAgICAgcHJpb3JpdHlJbnB1dC5zdHlsZS53aWR0aCA9IFwiODMlXCJcbiAgICAgICAgcHJpb3JpdHlJbnB1dC5zdHlsZS5oZWlnaHQgPSBcIjIycHhcIlxuICAgICAgICBwcmlvcml0eUlucHV0LnN0eWxlLnBhZGRpbmcgPSBcIjJweFwiXG4gICAgICAgIHByaW9yaXR5SW5wdXQuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuXG4gICAgfVxuXG4gICAgY29uc3QgYWRqdXN0VG9Eb1BhcmVudCA9ICh0b0RvSW5kZXgpID0+e1xuXG4gICAgICAgIGNvbnN0IHRvRG9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tY29udGFpbmVyXCIrdG9Eb0luZGV4KVxuXG4gICAgICAgIHRvRG9Db250YWluZXIuc3R5bGUuZ2FwID0gXCIyMHB4XCJcbiAgICB9XG5cbiAgICBcbiAgICBjdXJyZW50VG9Eby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtleHBhbmRUb0RvKGUpfSlcbiAgIFxuIH1cblxuIFxuXG5cblxuIHJldHVybiB7ZXhwYW5kVG9Eb0xvZ2ljfVxuXG5cblxuXG59KSgpO1xuXG4iXSwibmFtZXMiOlsiZ2VuT2JqZWN0cyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJhZGRUb0RvIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY2hlY2tlZCIsImdlbkRvbUVsZW1lbnRzIiwiaSIsInJpZ2h0UGFydCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5ld1Byb2plY3RDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0aXRsZUlucHV0IiwidHlwZSIsInZhbHVlIiwiZGVzY3JpcHRpb25JbnB1dCIsInRvRG9zQ29udGFpbmVyIiwiYm90dG9tQ29udGFpbmVyIiwic3VibWl0UHJvamVjdCIsInRleHRDb250ZW50Iiwic3VibWl0VG9EbyIsInByb2plY3RJbmRleCIsInRvRG9JbmRleCIsInRvRG9Db250YWluZXIiLCJiYXNpY0VsZW1lbnRzQ29udGFpbmVyIiwiZGVsZXRlQnV0dG9uIiwidG9Eb1RpdGxlIiwiY2hlY2tUb0RvIiwiZGF0ZUlucHV0Iiwic2V0UHJpb3JpdHkiLCJoaWdoUHJpb3JpdHkiLCJNZWRpdW1Qcmlvcml0eSIsIkxvd1ByaW9yaXR5IiwidG9Eb3NMb2dpYyIsInByb2plY3RFbGVtZW50cyIsInByb2plY3RPYmplY3RMaXN0IiwiYWRkQnV0dG9uIiwibmV3UHJvamVjdE9iamVjdCIsImN1cnJlbnRQcm9qZWN0IiwibGVuZ3RoIiwicHVzaCIsInJlbW92ZUNvbnRhaW5lciIsInJlbW92ZSIsImNoZWNrQ29udGFpbmVyIiwicmV0dXJuUHJvamVjdEFuZFRvRG9zIiwiY3VycmVudFByb2plY3RJbmRleCIsInJldHVyblByb2plY3RzRE9NIiwicmV0dXJuVG9Eb0RPTSIsImdlblRvRG9FbGVtZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0Iiwic2xpY2UiLCJjdXJyZW50T2JqZWN0IiwibmV3VmFsdWUiLCJ1cGRhdGVUYWIiLCJ1cGRhdGVQcm9qZWN0T2JqZWN0IiwiY2FsbFJldHVyblRhYiIsInRhYkNvbnRhaW5lciIsIm5ld1Byb2plY3QiLCJwYXJzZUludCIsImFkZFByb2plY3RET00iLCJzZWFyY2hMb2dpYyIsInNlYXJjaElucHV0IiwiZ2V0RWxlbWVudEJ5SWQiLCJwcm9qZWN0TmFtZXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZmluYWxWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZWxlbWVudE5hbWUiLCJpbmNsdWRlcyIsInN0eWxlIiwiZGlzcGxheSIsIm5ld1RvRG8iLCJ0b0RvRWxlbWVudHNMaXN0IiwidG9Eb09iamVjdHNMaXN0IiwidG9Eb0VsZW1lbnRzIiwidG9Eb09iamVjdHMiLCJzdWJtaXRUb0RvQnV0dG9uIiwiYWRkVG9Eb0J1dHRvbiIsImV4cGFuZFRvRG9zIiwiZXhwYW5kVG9Eb0xvZ2ljIiwic3BsaWNlIiwiZGVsZXRlTmV3VG9Eb0xvZ2ljIiwic3RvcmVUb0Rvc0RPTSIsInRvRG9UaXRsZVZhbHVlIiwidG9Eb0Rlc2NyaXB0aW9uVmFsdWUiLCJ0b0RvRGF0ZUlucHV0IiwidG9Eb1ByaW9yaXR5IiwiaXNUb0RvQ2hlY2tlZCIsIm51bWJlck9mVG9Eb3MiLCJjbGFzc05hbWUiLCJvbGRTdWJtaXRUb0RvIiwiY2FsbEV4cGFuZFRvRG8iLCJ1cGRhdGVkTnVtYmVyT2ZUb0RvcyIsInRvRG9EYXRlSW5wdXRWYWx1ZSIsInRvRG9Qcmlvcml0eVZhbHVlIiwidG9Eb0NoZWNrZWRWYWx1ZSIsInVuZGVmaW5lZCIsImRlbGV0ZVRvRG8iLCJjdXJyZW50RGVsZXRlQnV0dG9uIiwiZGVsZXRlT2xkVG9Eb0xvZ2ljIiwiY3VycmVudFRvRG9JbmRleCIsImN1cnJlbnRUb0RvIiwid2lkdGgiLCJoZWlnaHQiLCJwYWRkaW5nIiwiYm9yZGVyIiwic2hvd0Rlc2NyaXB0aW9uIiwiZHVlRGF0ZUlucHV0Iiwic2hvd0R1ZURhdGUiLCJwcmlvcml0eUlucHV0Iiwic2hvd1ByaW9yaXR5SW5wdXQiLCJnYXAiLCJhZGp1c3RUb0RvUGFyZW50IiwiZXhwYW5kVG9EbyJdLCJzb3VyY2VSb290IjoiIn0=